(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["course-preview-udlite-app"],{"./node_modules/@udemy/design-system-utils/dist/esm/keyboard/focus-cycle.react-component.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var o=r("./node_modules/react/index.js");var s=r.n(o);var n=r("./node_modules/react-dom/index.js");var i=r.n(n);var a=r("./node_modules/@udemy/design-system-utils/dist/esm/keyboard/find-focusables.js");var l=r("./node_modules/@udemy/design-system-utils/dist/esm/keyboard/keys.js");class c extends s.a.Component{constructor(){super(...arguments);this.element=null;this.detachedContent=null;this.onKeyDown=e=>{const t=e.which||e.keyCode;if(t===l["b"].UP||t===l["b"].DOWN){const r=this.props.getCycle(this.element);const o=r.findIndex((e=>e===document.activeElement));let s=null;if(o>=0&&t===l["b"].DOWN){s=(o+1)%r.length}else if(o>=0&&t===l["b"].UP){s=(o-1+r.length)%r.length}if(s!==null&&r[s]){e.preventDefault();r[s].focus()}}}}componentDidMount(){var e;this.element=i.a.findDOMNode(this);(e=this.element)===null||e===void 0?void 0:e.addEventListener("keydown",this.onKeyDown);if(this.props.detachedContent){var t;this.detachedContent=this.props.detachedContent.current;(t=this.detachedContent)===null||t===void 0?void 0:t.addEventListener("keydown",this.onKeyDown)}}componentWillUnmount(){var e;(e=this.element)===null||e===void 0?void 0:e.removeEventListener("keydown",this.onKeyDown);this.element=null;if(this.props.detachedContent){var t;(t=this.detachedContent)===null||t===void 0?void 0:t.removeEventListener("keydown",this.onKeyDown);this.detachedContent=null}}render(){return s.a.Children.only(this.props.children)}}c.defaultProps={getCycle:a["a"]}},"./node_modules/@udemy/icons/dist/collapse-diagonal.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("collapse-diagonal")},"./node_modules/@udemy/icons/dist/expand-diagonal.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("expand-diagonal")},"./node_modules/@udemy/icons/dist/next.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("next")},"./node_modules/@udemy/icons/dist/pause.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("pause")},"./node_modules/@udemy/icons/dist/play-arrow.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("play-arrow")},"./node_modules/@udemy/icons/dist/play.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("play")},"./node_modules/@udemy/icons/dist/previous.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("previous")},"./node_modules/@udemy/icons/dist/reload.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("reload")},"./node_modules/@udemy/icons/dist/rewind.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("rewind")},"./node_modules/@udemy/icons/dist/settings.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("settings")},"./node_modules/@udemy/icons/dist/subtitles.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("subtitles")},"./node_modules/@udemy/icons/dist/volume-off.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("volume-off")},"./node_modules/@udemy/icons/dist/volume-on.ud-icon":function(e,t,r){e.exports=r("./node_modules/@udemy/react-core-components/dist/esm/index.js")["createIcon"]("volume-on")},"./node_modules/@udemy/react-date-time-components/dist/esm/duration/duration.react-component.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));r.d(t,"b",(function(){return p}));var o=r("./node_modules/@udemy/i18n/dist/esm/index.js");var s=r("./node_modules/react/index.js");var n=r.n(s);const i=60;const a=60;const l={HUMAN:"human",HUMAN_COMPACT:"humanCompact",TIMESTAMP:"timestamp"};const c={HOURS:"hours",MINUTES:"minutes",SECONDS:"seconds"};const d={[l.HUMAN]:m,[l.HUMAN_COMPACT]:h,[l.TIMESTAMP]:f};const u=e=>{let{numSeconds:t,presentationStyle:r=l.HUMAN,precision:s=c.MINUTES,...i}=e;const{gettext:a,interpolate:d}=Object(o["j"])();return n.a.createElement("span",i,p({numSeconds:t,presentationStyle:r,precision:s},{gettext:a,interpolate:d}))};u.displayName="Duration";u.STYLE=l;u.PRECISION=c;function p(e,t){let{numSeconds:r,presentationStyle:o=l.HUMAN,precision:s=c.MINUTES}=e;const n=Math.floor(r);return d[o](n,{numSeconds:r,presentationStyle:o,precision:s},t)}function h(e,t,r){let{precision:o}=t;let{gettext:s,interpolate:n}=r;const l=e%i;const d=Math.floor(e/i)%a;const u=Math.floor(e/(i*a));const p={hms:s("%(hours)sh %(minutes)sm %(seconds)ss"),hm:s("%(hours)sh %(minutes)sm"),m:s("%(minutes)sm"),ms:s("%(minutes)sm %(seconds)ss"),s:s("%(seconds)ss")};const h=[];const m={hours:u,minutes:d,seconds:l};if(u){h.push("h")}if(d||u||!d&&o===c.MINUTES){h.push("m")}if(o===c.SECONDS){h.push("s")}const f=p[h.join("")];return n(f.replace(/ /g,"Â "),m,true)}function m(e,t,r){let{numSeconds:o,precision:s}=t;let{gettext:n,interpolate:i}=r;const a=n("%(hours)shr");const l=n("%(minutes)smin");const d=n("%(hours)shr %(minutes)smin");let u=Math.round(e/60);let p=Math.floor(u/60);if(!p){if(!u&&o){u=1}return i(l,{minutes:u},true)}if(s===c.HOURS){p=Math.round(u/30)/2;return i(a,{hours:p},true)}u=u%60;if(!u){return i(a,{hours:p},true)}return i(d,{hours:p,minutes:u},true)}function f(e){const t=e%i;const r=Math.floor(e/i)%a;const o=Math.floor(e/(i*a));const s=e=>e<10?`0${e}`:`${e}`;if(o===0){return`${r}:${s(t)}`}return`${o}:${s(r)}:${s(t)}`}},"./node_modules/@udemy/react-popup-components/dist/esm/popover/basic-popover.react-component.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return p}));r.d(t,"a",(function(){return h}));var o=r("./node_modules/classnames/index.js");var s=r.n(o);var n=r("./node_modules/prop-types/index.js");var i=r.n(n);var a=r("./node_modules/react/index.js");var l=r.n(a);var c=r("./node_modules/@udemy/react-popup-components/dist/esm/basic-popper/basic-popper.react-component.js");var d=r("./node_modules/@udemy/react-popup-components/dist/esm/popover/popover.module.css");var u=r.n(d);function p(e,t){const r=t=>{var r;let{forwardedRef:o,withArrow:n=true,withPadding:i=true,renderContent:a=((r=e.defaultProps)===null||r===void 0?void 0:r.renderContent),...d}=t;const p=(e,t,r)=>{let o;const d=Object(c["f"])(t);let p=`popover-${d}`;if(n&&r!==null){p=`${p}-arrow`;const e=`${r}px`;let t;switch(d){case"top":t={top:"100%",left:e};break;case"bottom":t={top:0,left:e};break;case"left":t={top:e,left:"100%"};break;case"right":t={top:e,left:0};break}o=l.a.createElement("div",{className:s()(u.a.arrow,u.a[`arrow-${d}`]),style:t})}e.children=l.a.createElement("div",{className:s()(u.a.popover,u.a[p],{[u.a["popover-padding"]]:i})},l.a.createElement("div",{className:u.a.inner},e.children),o);return a===null||a===void 0?void 0:a(e,t,r)};return l.a.createElement(e,Object.assign({ref:o},d,{renderContent:p}))};return Object.assign(l.a.forwardRef(((e,t)=>l.a.createElement(r,Object.assign({},e,{forwardedRef:t})))),{propTypes:{...t,withArrow:i.a.bool,withPadding:i.a.bool},defaultProps:{...e.defaultProps,withArrow:true,withPadding:true}})}const h=p(c["a"],c["d"]);h.displayName="BasicPopover"},"./node_modules/@udemy/react-popup-components/dist/esm/popover/popover.module.css":function(e,t,r){e.exports={popover:"popover-module--popover--1kskS","popover-padding":"popover-module--popover-padding--DD0iQ","popover-bottom":"popover-module--popover-bottom--N6gdN","popover-bottom-arrow":"popover-module--popover-bottom-arrow--3yavo","popover-top":"popover-module--popover-top--wdPRh","popover-top-arrow":"popover-module--popover-top-arrow--CX16f","popover-left":"popover-module--popover-left--1WptH","popover-left-arrow":"popover-module--popover-left-arrow--BuL7I","popover-right":"popover-module--popover-right--31LLX","popover-right-arrow":"popover-module--popover-right-arrow--1g0PE",inner:"popover-module--inner--Sbv-I",arrow:"popover-module--arrow--abDwz","arrow-bottom":"popover-module--arrow-bottom--1FnXL","arrow-top":"popover-module--arrow-top--3Ghxx","arrow-left":"popover-module--arrow-left--1cCCt","arrow-right":"popover-module--arrow-right--1vmr3"}},"./node_modules/@udemy/react-popup-components/dist/esm/popover/popover.react-component.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var o=r("./node_modules/@udemy/react-popup-components/dist/esm/popper/popper.react-component.js");var s=r("./node_modules/@udemy/react-popup-components/dist/esm/popover/basic-popover.react-component.js");const n=Object(s["b"])(o["a"],o["a"].propTypes);n.displayName="Popover"},"./node_modules/@udemy/react-popup-components/dist/esm/popper/popper.react-component.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return F}));var o=r("./node_modules/@babel/runtime/helpers/initializerDefineProperty.js");var s=r.n(o);var n=r("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js");var i=r.n(n);var a=r("./node_modules/@babel/runtime/helpers/initializerWarningHelper.js");var l=r.n(a);var c=r("./node_modules/@udemy/design-system-utils/dist/esm/root-close-wrapper/root-close-wrapper.react-component.js");var d=r("./node_modules/@udemy/design-system-utils/dist/esm/keyboard/find-focusables.js");var u=r("./node_modules/@udemy/design-system-utils/dist/esm/keyboard/force-tab-order.js");var p=r("./node_modules/@udemy/design-system-utils/dist/esm/keyboard/keys.js");var h=r("./node_modules/@udemy/shared-utils/dist/esm/lodashy/noop.js");var m=r("./node_modules/@udemy/shared-utils/dist/esm/lodashy/debounce.js");var f=r("./node_modules/@udemy/shared-utils/dist/esm/env/server-or-client.js");var v=r("./node_modules/mobx/lib/mobx.module.js");var y=r("./node_modules/mobx-react/dist/mobx-react.module.js");var g=r("./node_modules/prop-types/index.js");var b=r.n(g);var P=r("./node_modules/react/index.js");var S=r.n(P);var E=r("./node_modules/react-dom/index.js");var j=r.n(E);var w=r("./node_modules/@udemy/react-popup-components/dist/esm/basic-popper/basic-popper.react-component.js");var k,O,_,T,R,C,x,D,M;const I={top:"bottom",left:"right",right:"left",bottom:"top"};const N=16;let F=(k=v["t"].ref,O=v["t"].ref,Object(y["f"])(_=(T=(M=class e extends S.a.Component{constructor(e){var t;super(e);t=this;this.ref=void 0;this.triggerNode=void 0;this.contentNode=void 0;this.debouncedUpdatePlacement=void 0;this.disposeForceTabOrder=h["a"];this.isScrollListenerSetUp=void 0;this.POPPER_PLACEMENT=w["b"];s()(this,"forcedPlacement",R,this);s()(this,"position",C,this);s()(this,"detachedFromTargetPosition",x,this);s()(this,"updatePlacement",D,this);this.onToggle=e=>{var t,r;(t=(r=this.props).onToggle)===null||t===void 0?void 0:t.call(r,e);if(e&&this.contentNode){this.contentNode.style.opacity=(0).toString();setTimeout((()=>{this.updatePlacement();if(this.contentNode){this.contentNode.style.opacity=""}}),0)}};this.onEscape=(e,t)=>{var r;(r=this.ref.current)===null||r===void 0?void 0:r.onRootClose(e,t,c["a"].KEYBOARD)};this.renderContent=function(e){var r,o,s,n;let i=(r=t.position)!==null&&r!==void 0?r:w["b"][(o=t.forcedPlacement)!==null&&o!==void 0?o:t.props.placement];for(var a=arguments.length,l=new Array(a>1?a-1:0),c=1;c<a;c++){l[c-1]=arguments[c]}if(t.props.detachFromTarget){var d,u;i=t.detachedFromTargetPosition;return j.a.createPortal(S.a.createElement(B,{onEscape:t.onEscape},(d=(u=t.props).renderContent)===null||d===void 0?void 0:d.call(u,{...e,style:i},...l)),document.body)}return(s=(n=t.props).renderContent)===null||s===void 0?void 0:s.call(n,{...e,style:i},...l)};this.ref=S.a.createRef();this.debouncedUpdatePlacement=Object(m["a"])(this.updatePlacement,N)}componentDidMount(){var e,t;this.triggerNode=(e=this.ref.current)===null||e===void 0?void 0:e.triggerNode;this.contentNode=(t=this.ref.current)===null||t===void 0?void 0:t.contentNode;f["a"].global.addEventListener("resize",this.debouncedUpdatePlacement,{passive:true});this.updatePlacement();if(this.props.detachFromTarget){const e=()=>{var e;if((e=this.ref.current)!==null&&e!==void 0&&e.isOpen){return this.triggerNode}};const t=()=>{var e;if((e=this.ref.current)!==null&&e!==void 0&&e.isOpen&&this.contentNode){return Object(d["a"])(this.contentNode)[0]}};const r=()=>{var e;if((e=this.ref.current)!==null&&e!==void 0&&e.isOpen&&this.contentNode){const e=Object(d["a"])(this.contentNode);return e[e.length-1]}};if(this.props.getTabOrder){this.disposeForceTabOrder=Object(u["a"])(this.props.getTabOrder({findTriggerNode:e,findFirstFocusableInContent:t,findLastFocusableInContent:r}))}}}componentDidUpdate(e){!e.isOpen&&this.props.isOpen&&this.updatePlacement()}componentWillUnmount(){var e,t,r;f["a"].global.removeEventListener("resize",this.debouncedUpdatePlacement);const o=(e=(t=(r=this.props).getScrollContainers)===null||t===void 0?void 0:t.call(r).filter(Boolean))!==null&&e!==void 0?e:[];if(this.isScrollListenerSetUp){o.forEach((e=>{e.removeEventListener("scroll",this.updatePlacement)}))}this.disposeForceTabOrder();this.triggerNode=this.contentNode=null}getPlacementsInPreferredOrder(){const[e,t]=this.props.placement.split("-");const r=I[e];const o=[];const s=[];const n=[];Object.keys(w["b"]).forEach((i=>{const[a,l]=i.split("-");const c=l===t?"unshift":"push";if(a===e){o[c](i)}else if(a===r){s[c](i)}else{n[c](i)}}));return o.concat(s).concat(n)}getContentFit(e,t){const{top:r,left:o,width:s,height:n}=e;const i=o+s;const a=r+n;const{top:l,right:c,bottom:d,left:u}=t;const p=r>=l&&o>=u&&i<=c&&a<=d;const h=(Math.min(i,c)-Math.max(o,u))*(Math.min(a,d)-Math.max(r,l));return{fits:p,area:h}}getContentRect(e,t,r){const{top:o,right:s,bottom:n,left:i}=t;const a=s-i;const l=n-o;const c=r.right-r.left;const d=r.bottom-r.top;switch(e){case"top-start":return{top:o-d,left:i,width:c,height:d};case"top":return{top:o-d,left:i+a/2-c/2,width:c,height:d};case"top-end":return{top:o-d,left:s-c,width:c,height:d};case"right-start":return{top:o,left:s,width:c,height:d};case"right":return{top:o+l/2-d/2,left:s,width:c,height:d};case"right-end":return{top:n-d,left:s,width:c,height:d};case"bottom-start":return{top:n,left:i,width:c,height:d};case"bottom":return{top:n,left:i+a/2-c/2,width:c,height:d};case"bottom-end":return{top:n,left:s-c,width:c,height:d};case"left-start":return{top:o,left:i-c,width:c,height:d};case"left":return{top:o+l/2-d/2,left:i-c,width:c,height:d};case"left-end":return{top:n-d,left:i-c,width:c,height:d}}}render(){var e;const{detachFromTarget:t,...r}=this.props;return S.a.createElement(w["a"],Object.assign({},r,{onToggle:this.onToggle,placement:(e=this.forcedPlacement)!==null&&e!==void 0?e:r.placement,renderContent:this.renderContent,ref:this.ref}))}},M.propTypes={...w["d"],detachFromTarget:b.a.bool,getTabOrder:b.a.func,getScrollContainers:b.a.func},M.defaultProps={...w["a"].defaultProps,detachFromTarget:false,getTabOrder:e=>[[e.findTriggerNode,e.findFirstFocusableInContent],[e.findLastFocusableInContent,e.findTriggerNode]],getScrollContainers:()=>[]},M),R=i()(T.prototype,"forcedPlacement",[v["t"]],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),C=i()(T.prototype,"position",[k],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),x=i()(T.prototype,"detachedFromTargetPosition",[O],{configurable:true,enumerable:true,writable:true,initializer:function(){return undefined}}),D=i()(T.prototype,"updatePlacement",[v["e"]],{configurable:true,enumerable:true,writable:true,initializer:function(){return()=>{var e,t;if(!this.triggerNode||!this.contentNode||!this.ref.current){return}if(!this.ref.current.isOpen){return}if(!this.props.getTriggerRect){return}const r=this.props.getTriggerRect(this.triggerNode);const o=this.contentNode.getBoundingClientRect();const s=document.body.getBoundingClientRect();let n,i,a;for(const e of this.getPlacementsInPreferredOrder()){var l;const t=this.getContentRect(e,r,o);const{fits:c,area:d}=this.getContentFit(t,s);if(c){n={placement:e,rect:t,leftOffset:0};break}if(e==="top-start"||e==="bottom-start"){if(!i||d>i.area){i={placement:e,rect:t,area:d,leftOffset:0};const r=t.left+t.width-s.right;if(r>0){i.leftOffset=-Math.min(t.left-s.left,r)}}}a=(l=a)!==null&&l!==void 0?l:{placement:e,rect:t,leftOffset:0}}const c=(e=(t=n)!==null&&t!==void 0?t:i)!==null&&e!==void 0?e:a;if(c){var d,u,p;this.forcedPlacement=c.placement;this.position={...w["b"][c.placement]};if(c.leftOffset&&"left"in this.position&&this.position.left==="0"){this.position.left=`${c.leftOffset}px`}this.detachedFromTargetPosition={top:`${window.pageYOffset+c.rect.top}px`,left:`${window.pageXOffset+c.rect.left+c.leftOffset}px`};const e=(d=(u=(p=this.props).getScrollContainers)===null||u===void 0?void 0:u.call(p).filter(Boolean))!==null&&d!==void 0?d:[];if(!this.isScrollListenerSetUp){e.forEach((e=>{e.addEventListener("scroll",this.updatePlacement,{passive:true})}));this.isScrollListenerSetUp=true}}}}}),T))||_);class B extends S.a.Component{constructor(){super(...arguments);this.dom=null;this.onKeyDown=e=>{if(e.keyCode===p["b"].ESCAPE){this.props.onEscape(e,this.dom)}}}componentDidMount(){var e,t;this.dom=j.a.findDOMNode(this);(e=this.dom)===null||e===void 0?void 0:e.addEventListener("click",this.context.ignoreRootClose);(t=this.dom)===null||t===void 0?void 0:t.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){if(this.dom){this.dom.removeEventListener("click",this.context.ignoreRootClose);this.dom.removeEventListener("keydown",this.onKeyDown);this.dom=null}}render(){return S.a.Children.only(this.props.children)}}B.contextType=c["c"]},"./node_modules/@udemy/react-popup-components/dist/esm/tooltip/tooltip.module.css":function(e,t,r){e.exports={tooltip:"tooltip-module--tooltip--1ORe9",white:"tooltip-module--white--3VDM1"}},"./node_modules/@udemy/react-popup-components/dist/esm/tooltip/tooltip.react-component.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var o=r("./node_modules/classnames/index.js");var s=r.n(o);var n=r("./node_modules/react/index.js");var i=r.n(n);var a=r("./node_modules/@udemy/react-popup-components/dist/esm/basic-popper/basic-popper.react-component.js");var l=r("./node_modules/@udemy/react-popup-components/dist/esm/popper/popper.react-component.js");var c=r("./node_modules/@udemy/react-popup-components/dist/esm/tooltip/tooltip.module.css");var d=r.n(c);const u=e=>{let{a11yRole:t="description",forwardedRef:r,udStyle:o="black",canToggleOnHover:n,placement:c="top-start",trigger:u,renderContent:p=a["e"],getTabOrder:h=(e=>[[e.findTriggerNode,e.findFirstFocusableInContent],[e.findLastFocusableInContent,e.findTriggerNode]]),getScrollContainers:m=(()=>[]),...f}=e;const v=(e,t,r)=>{const n=s()("ud-text-sm",d.a.tooltip,{[d.a.white]:o==="white"});e.children=i.a.createElement("div",{className:n},e.children);return p(e,t,r)};return i.a.createElement(l["a"],Object.assign({trigger:u,ref:r,a11yRole:t,getScrollContainers:m,getTabOrder:h,canToggleOnHover:true,placement:c,renderContent:v},f))};const p=Object.assign(i.a.forwardRef(((e,t)=>i.a.createElement(u,Object.assign({},e,{forwardedRef:t})))),{displayName:"Tooltip"})},"./node_modules/@udemy/react-structure-components/dist/esm/footer-buttons/footer-buttons.react-component.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var o=r("./node_modules/classnames/index.js");var s=r.n(o);var n=r("./node_modules/react/index.js");var i=r.n(n);const a=e=>{let{alignment:t="right",...r}=e;const o=i.a.createElement("div",Object.assign({},r,{className:s()(r.className,"ud-footer-btns"),style:{...r.style,textAlign:t}}));return i.a.createElement(i.a.Fragment,null,o,i.a.createElement("div",{className:"ud-footer-btns-spacer"}))}},"./node_modules/@udemy/shared-utils/dist/esm/react/autopilot.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var o=r("./node_modules/@babel/runtime/helpers/initializerDefineProperty.js");var s=r.n(o);var n=r("./node_modules/@babel/runtime/helpers/applyDecoratedDescriptor.js");var i=r.n(n);var a=r("./node_modules/@babel/runtime/helpers/initializerWarningHelper.js");var l=r.n(a);var c=r("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");var d=r.n(c);var u=r("./node_modules/mobx/lib/mobx.module.js");var p=r("./node_modules/mobx-react/dist/mobx-react.module.js");var h=r("./node_modules/prop-types/index.js");var m=r.n(h);var f=r("./node_modules/react/index.js");var v=r.n(f);var y=r("./node_modules/@udemy/shared-utils/dist/esm/lodashy/noop.js");function g(e,t){return function(r){var o,n,a,l;let c=Object(p["f"])(o=(n=class o extends v.a.Component{constructor(){super(...arguments);s()(this,"value",a,this);s()(this,"onChange",l,this)}componentDidUpdate(t){if(t[e]===undefined&&this.props[e]!==undefined||t[e]!==undefined&&this.props[e]===undefined){throw new Error("Controlled components should not switch to become uncontrolled, or vice versa.")}}get isControlled(){return this.props[e]!==undefined}render(){const{forwardedRef:o,...s}=this.props;const n={...s,[e]:this.isControlled?s[e]:this.value,[t]:this.isControlled?s[t]:this.onChange};const i=r;return v.a.createElement(i,Object.assign({},n,{ref:o}))}},a=i()(n.prototype,"value",[u["t"]],{configurable:true,enumerable:true,writable:true,initializer:function(){return undefined}}),l=i()(n.prototype,"onChange",[u["e"]],{configurable:true,enumerable:true,writable:true,initializer:function(){var e=this;return function(r){var o,s;if(!e.isControlled){e.value=r}for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++){i[a-1]=arguments[a]}(o=(s=e.props)[t])===null||o===void 0?void 0:o.call(s,r,...i)}}}),n))||o;const h=v.a.forwardRef(((e,t)=>v.a.createElement(c,Object.assign({},e,{forwardedRef:t}))));return Object.assign(d()(h,r),{displayName:`WithAutopilot(${r.displayName||r.name||"Component"})`,defaultProps:{...Object.entries(r.defaultProps||{}).reduce(((t,r)=>{let[o,s]=r;if(o!==e){t[o]=s}return t}),{}),...{[t]:y["a"]}},propTypes:{...r.propTypes,[t]:m.a.func},wrappedComponent:r})}}},"./src/udemy/js/asset/constants.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return o}));r.d(t,"b",(function(){return s}));r.d(t,"d",(function(){return n}));r.d(t,"a",(function(){return i}));const o=Object.freeze({ARTICLE:"Article",AUDIO:"Audio",EBOOK:"E-Book",EXTERNAL_LINK:"ExternalLink",FILE:"File",IFRAME:"IFrame",IMPORT_CONTENT:"ImportContent",PRESENTATION:"Presentation",SOURCE_CODE:"SourceCode",UPCOMING:"Upcoming",VIDEO:"Video",VIDEO_MASHUP:"VideoMashup"});const s=Object.freeze({SUCCESS:1,UNPROCESSED:0,FAILED:-1,DELAYED:-2});const n=4*60*60*1e3;const i=5*60*1e3},"./src/udemy/js/browse/lib/device-type.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r.d(t,"b",(function(){return u}));r.d(t,"d",(function(){return h}));r.d(t,"e",(function(){return m}));r.d(t,"c",(function(){return f}));var o=r("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");var s=r.n(o);var n=r("./node_modules/prop-types/index.js");var i=r.n(n);var a=r("./node_modules/react/index.js");var l=r.n(a);var c=r("./src/udemy/js/utils/get-request-data.js");const d="desktop";const u="mobile";const p=[d,u];const h={deviceType:i.a.oneOf(p).isRequired};function m(e){const t=Object(c["a"])();if(!e&&t.isMobile!==undefined){e=t.isMobile?u:d}return e}function f(e){const t=t=>{let{deviceType:r,...o}=t;r=m(r);return l.a.createElement(e,Object.assign({},o,{deviceType:r||d}))};t.propTypes={deviceType:i.a.oneOf(p)};t.defaultProps={deviceType:undefined};const r=e.displayName||e.name||"Component";t.displayName=`DeviceType(${r})`;return s()(t,e)}},"./src/udemy/js/caption/caption.mobx-model.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return g}));r.d(t,"a",(function(){return b}));var o=r("./node_modules/autobind-decorator/lib/esm/index.js");var s=r("./node_modules/axios/index.js");var n=r.n(s);var i=r("./node_modules/mobx/lib/mobx.module.js");var a=r("./src/udemy/js/utils/ud-api-stat.js");var l=r("./src/udemy/js/utils/ud-me.js");var c=r("./src/udemy/js/utils/ud-raven.js");var d=r("./src/udemy/js/caption/constants.js");var u=r("./src/udemy/js/caption/cue.mobx-model.js");var p=r("./src/udemy/js/caption/vtt-parser.js");var h,m,f,v,y;let g=(h=class e{constructor(e){babelHelpers.initializerDefineProperty(this,"_cues",m,this);this._loadPromise=null;babelHelpers.initializerDefineProperty(this,"isLoaded",f,this);babelHelpers.initializerDefineProperty(this,"error",v,this);babelHelpers.initializerDefineProperty(this,"status",y,this);this.id=e.id;this.locale=e.locale_id||e.locale&&e.locale.locale;this.language=this.locale?this.locale.slice(0,2):undefined;this.source=e.source;this.title=e.title;this.url=e.url;this.confidenceThreshold=e.confidence_threshold;this.assetId=e.asset_id;this.isEdit=e.is_edit;this.isEditOfAutoCaption=e.is_edit_of_autocaption;this.filteringTags=e.filteringTags;this.isTranslation=e.is_translation;this.modified=e.modified;this.retries=0;this.setStatus(e.status);this._correctedCueIds=(e.corrected_cue_ids||[]).map((e=>parseInt(e,10)));Object(i["D"])((()=>this.error),(()=>{if(this.error.errorType===d["h"].PARSING){c["a"].captureException(new Error(`Caption failed when ${this.error.errorType}: ${this.error.message} for caption ${this.id}`))}a["b"].increment(d["i"].ERROR,this.error)}))}setStatus(e){this.status=e}constructCue(e){return new u["b"](e)}loadFromSource(){if(this._loadPromise){return this._loadPromise}let e=0;this._loadPromise=n.a.get(this.url).then((t=>{Object(p["c"])(t.data,Object(i["e"])((t=>{t.id=e;t.isCorrect=this._correctedCueIds.includes(e);this._cues.push(this.constructCue(t));e++})),Object(i["e"])((()=>{this.isLoaded=true;a["b"].increment(d["i"].LOADED,{language:this.language,userCountry:l["a"].country,retries:this.retries})})),this._handleParsingError)})).catch(this._handleLoadingError);return this._loadPromise}_handleParsingError(e){this.error={errorType:d["h"].PARSING,message:e.message}}_shouldRetryLoading(e){return this.retries<d["e"]&&(e.message===d["j"]||d["k"].includes(e.status))}_retryLoading(){const e=Math.pow(2,this.retries)*1e3;this.retries++;setTimeout(this.loadFromSource,e)}_handleLoadingError(e){const t={status:e.response&&e.response.status,message:e.message,userCountry:l["a"].country,retries:this.retries};if(this._shouldRetryLoading(t)){this._loadPromise=null;t.errorType=d["h"].RETRY;this.error=t;this._retryLoading()}else{t.errorType=d["h"].LOADING;this.error=t}}get cues(){if(!this.isLoaded){return[]}return this._cues}get asString(){const e=this.cues.map((e=>{const t=Object(u["a"])(e.startTime,3);const r=Object(u["a"])(e.endTime,3);return[e.id,`${t} --\x3e ${r}`,e.text].join("\n")}));return["WEBVTT",e.join("\n\n")].join("\n\n")}get correctedCueIds(){return this.cues.reduce(((e,t)=>{if(t.isCorrect){e.push(t.id)}return e}),[])}},m=babelHelpers.applyDecoratedDescriptor(h.prototype,"_cues",[i["t"]],{configurable:true,enumerable:true,writable:true,initializer:function(){return[]}}),f=babelHelpers.applyDecoratedDescriptor(h.prototype,"isLoaded",[i["t"]],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),v=babelHelpers.applyDecoratedDescriptor(h.prototype,"error",[i["t"]],{configurable:true,enumerable:true,writable:true,initializer:function(){return null}}),y=babelHelpers.applyDecoratedDescriptor(h.prototype,"status",[i["t"]],{configurable:true,enumerable:true,writable:true,initializer:null}),babelHelpers.applyDecoratedDescriptor(h.prototype,"setStatus",[i["e"]],Object.getOwnPropertyDescriptor(h.prototype,"setStatus"),h.prototype),babelHelpers.applyDecoratedDescriptor(h.prototype,"loadFromSource",[o["a"]],Object.getOwnPropertyDescriptor(h.prototype,"loadFromSource"),h.prototype),babelHelpers.applyDecoratedDescriptor(h.prototype,"_handleParsingError",[o["a"],i["e"]],Object.getOwnPropertyDescriptor(h.prototype,"_handleParsingError"),h.prototype),babelHelpers.applyDecoratedDescriptor(h.prototype,"_retryLoading",[o["a"],i["e"]],Object.getOwnPropertyDescriptor(h.prototype,"_retryLoading"),h.prototype),babelHelpers.applyDecoratedDescriptor(h.prototype,"_handleLoadingError",[o["a"],i["e"]],Object.getOwnPropertyDescriptor(h.prototype,"_handleLoadingError"),h.prototype),babelHelpers.applyDecoratedDescriptor(h.prototype,"cues",[i["g"]],Object.getOwnPropertyDescriptor(h.prototype,"cues"),h.prototype),babelHelpers.applyDecoratedDescriptor(h.prototype,"asString",[i["g"]],Object.getOwnPropertyDescriptor(h.prototype,"asString"),h.prototype),babelHelpers.applyDecoratedDescriptor(h.prototype,"correctedCueIds",[i["g"]],Object.getOwnPropertyDescriptor(h.prototype,"correctedCueIds"),h.prototype),h);function b(e,t){const r=new Blob([e.asString],{type:"text/vtt"});if(t){r.name=t}return r}},"./src/udemy/js/caption/constants.js":function(e,t,r){"use strict";r.d(t,"g",(function(){return o}));r.d(t,"f",(function(){return s}));r.d(t,"a",(function(){return n}));r.d(t,"b",(function(){return i}));r.d(t,"c",(function(){return a}));r.d(t,"d",(function(){return l}));r.d(t,"h",(function(){return c}));r.d(t,"i",(function(){return d}));r.d(t,"e",(function(){return u}));r.d(t,"j",(function(){return p}));r.d(t,"k",(function(){return h}));const o=Object.freeze({PUBLISHED:"caption",DRAFT:"draft-caption",CROWDSOURCED:"crowdsourced-caption"});const s=Object.freeze({PROCESSING:-3,FAILED:-1,UNPROCESSED:0,SUCCESS:1,TRANSCODED:2,DELETING:42});const n=Object.freeze({INITIAL:20,UPLOADING:70,FINAL:10});const i=Object.freeze({VALIDATION:"VALIDATION",UPLOAD:"UPLOAD",NAME_COLLISION:"NAME_COLLISION"});const a=Object.freeze(["vtt"]);const l=Object.freeze(a.map((e=>`.${e}`)));const c=Object.freeze({LOADING:"loading",PARSING:"parsing",RETRY:"retry"});const d=Object.freeze({ERROR:"caption_model.error",LOADED:"caption_model.loaded"});const u=4;const p="Network Error";const h=[503,504]},"./src/udemy/js/caption/cue.mobx-model.js":function(e,t,r){"use strict";r.d(t,"b",(function(){return l}));r.d(t,"a",(function(){return c}));var o=r("./node_modules/mobx/lib/mobx.module.js");var s=r("./src/udemy/js/utils/escape/unescape-html.js");var n,i,a;let l=(n=class e{constructor(e){babelHelpers.initializerDefineProperty(this,"text",i,this);babelHelpers.initializerDefineProperty(this,"isCorrect",a,this);this.id=parseInt(e.id,10);this.startTime=e.startTime;this.endTime=e.endTime;this.setObservablesFromAPIData(e)}setObservablesFromAPIData(e){this.text=e.text;this.isCorrect=e.isCorrect}setText(e){this.text=e}markCorrect(e){this.isCorrect=e}get displayText(){return Object(s["a"])(this.text.replace(/<[^>]+>/g,""))}},i=babelHelpers.applyDecoratedDescriptor(n.prototype,"text",[o["t"]],{configurable:true,enumerable:true,writable:true,initializer:function(){return""}}),a=babelHelpers.applyDecoratedDescriptor(n.prototype,"isCorrect",[o["t"]],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),babelHelpers.applyDecoratedDescriptor(n.prototype,"setObservablesFromAPIData",[o["e"]],Object.getOwnPropertyDescriptor(n.prototype,"setObservablesFromAPIData"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"setText",[o["e"]],Object.getOwnPropertyDescriptor(n.prototype,"setText"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"markCorrect",[o["e"]],Object.getOwnPropertyDescriptor(n.prototype,"markCorrect"),n.prototype),babelHelpers.applyDecoratedDescriptor(n.prototype,"displayText",[o["g"]],Object.getOwnPropertyDescriptor(n.prototype,"displayText"),n.prototype),n);function c(e,t){const r=(e%1).toFixed(t).substring(2);e=Math.trunc(e);const o=Math.floor(e/3600);const s=Math.floor(e/60)-o*60;const n=e-(o*3600+s*60);function i(e){const t=`${e}`;return"00".substring(0,2-t.length)+t}const a=[i(s),i(n)];if(o>0){a.unshift(i(o))}return`${a.join(":")}${t?`.${r}`:""}`}},"./src/udemy/js/caption/vtt-parser.js":function(e,t,r){"use strict";r.d(t,"c",(function(){return n}));r.d(t,"a",(function(){return i}));r.d(t,"b",(function(){return a}));var o=r("./node_modules/videojs-vtt.js/lib/browser-index.js");var s=r.n(o);function n(e,t,r,s){const n=new o["WebVTT"].Parser(null,o,o["WebVTT"].StringDecoder());n.oncue=t;n.onflush=r;n.onparsingerror=s;n.parse(e);n.flush()}function i(e){if(!e.trim().length){return true}const t=o["WebVTT"].convertCueToDOMTree(window,e);const r=t.textContent.trim();return!r.length}function a(e){return/-->/.test(e)}},"./src/udemy/js/course-preview/course-preview.less":function(e,t,r){e.exports={previews:"course-preview--previews--3Yyja","video-preview":"course-preview--video-preview--3aSdA","separation-text":"course-preview--separation-text--hKp1Y","preview-rows":"course-preview--preview-rows--126pq","preview-row":"course-preview--preview-row--2y4_U","current-preview-row":"course-preview--current-preview-row--8schY","preview-thumbnail":"course-preview--preview-thumbnail--1AvcV","preview-thumbnail-wrapper":"course-preview--preview-thumbnail-wrapper--1sE3I","preview-title":"course-preview--preview-title--1nh_p",icon:"course-preview--icon--3hu5X"}},"./src/udemy/js/course-preview/udlite-app.tsx":function(e,t,r){"use strict";r.r(t);var o=r("./node_modules/@udemy/event-tracking/dist/esm/lib/ref-id-storage.js");var s=r("./node_modules/@udemy/event-tracking/dist/esm/tracker/helpers.js");var n=r("./node_modules/mobx-react/dist/mobx-react.module.js");var i=r("./node_modules/react/index.js");var a=r.n(i);var l=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js");var c=r.n(l);var d=r("./node_modules/@udemy/icons/dist/play.ud-icon");var u=r.n(d);var p=r("./node_modules/@udemy/react-core-components/dist/esm/image/image.react-component.js");var h=r("./node_modules/@udemy/react-reveal-components/dist/esm/loader/loader.react-component.js");var m=r("./node_modules/classnames/index.js");var f=r.n(m);var v=r("./src/udemy/js/asset/constants.js");var y=r("./src/udemy/js/browse/lib/device-type.js");var g=r("./src/udemy/js/shaka-video-player/shaka-video-player.react-component.tsx");var b=r("./src/udemy/js/utils/get-request-data.js");var P=r("./src/udemy/js/utils/noop.js");var S=r("./src/udemy/js/utils/ud-me.js");var E=r("./src/udemy/js/course-preview/course-preview.less");const j={"./course-preview.less":{previews:"course-preview--previews--3Yyja","video-preview":"course-preview--video-preview--3aSdA","separation-text":"course-preview--separation-text--hKp1Y","preview-rows":"course-preview--preview-rows--126pq","preview-row":"course-preview--preview-row--2y4_U","current-preview-row":"course-preview--current-preview-row--8schY","preview-thumbnail":"course-preview--preview-thumbnail--1AvcV","preview-thumbnail-wrapper":"course-preview--preview-thumbnail-wrapper--1sE3I","preview-title":"course-preview--preview-title--1nh_p",icon:"course-preview--icon--3hu5X"}};var w=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};const k=640;const O=480;const _=a.a.lazy((()=>Promise.all([r.e("vendor-videojs"),r.e("vendors~course-manage-practice-udlite-app~course-manage-v2-udlite-app~course-preview-udlite-app~lect~cdb3bda7"),r.e("video-player")]).then(r.bind(null,"./src/udemy/js/video-player/video-player.react-component.js"))));const T=Object(n["f"])((e=>{let{config:t,show:o,asset:s}=e;const n=Object(y["e"])();const i=n===y["b"]?_:g["a"];const l=a.a.lazy((()=>Promise.all([r.e("vendor-videojs"),r.e("vendors~video-mashup-asset"),r.e("video-mashup-asset")]).then(r.bind(null,"./src/udemy/js/asset/video/mashup/video-mashup-asset.react-component.js"))));if(!o){return null}const c=s.asset_type===v["c"].VIDEO_MASHUP?l:i;const d=s.asset_type===v["c"].VIDEO_MASHUP?{playerOptions:t,id:s.id,asset:s}:Object.assign({},t);return a.a.createElement("div",{className:"course-preview--video-preview--3aSdA"},a.a.createElement(a.a.Suspense,{fallback:null},a.a.createElement(c,Object.assign({},d,{"data-purpose":"asset-component"}))))}));const R=Object(n["f"])((e=>{let{store:t,videoRef:r}=e;return a.a.createElement("div",{ref:r},t.previews.map(((e,r)=>a.a.createElement(T,{asset:e,key:r,config:t.getConfig(e),show:e.id===t.currentPreview.id}))))}));const C=e=>{let{preview:t,isCurrentPreview:r=false,play:o=P["a"]}=e;return a.a.createElement("button",{onClick:o,className:"ud-custom-focus-visible "+c()(f()("preview-row",{"current-preview-row":r}),j)},a.a.createElement("div",{className:"course-preview--preview-thumbnail-wrapper--1sE3I"},a.a.createElement(p["a"],{src:t.thumbnail_url,alt:"",width:k,height:O,className:"course-preview--preview-thumbnail--1AvcV"})),r&&a.a.createElement(u.a,{label:false,color:"inherit",className:"course-preview--icon--3hu5X"}),a.a.createElement("div",{className:"ud-heading-sm ud-focus-visible-target course-preview--preview-title--1nh_p"},t.title),!Object(b["a"])().isMobile&&a.a.createElement("div",{className:"ud-heading-xs"},t.content_summary))};let x=class e extends a.a.Component{constructor(e){super(e);this.videoRef=a.a.createRef()}render(){if(S["a"].isLoading){return a.a.createElement(h["a"],{size:"medium",block:true})}const{store:e}=this.props;return a.a.createElement("div",{className:"course-preview--previews--3Yyja","data-purpose":"course-preview"},a.a.createElement(R,{store:e,videoRef:this.videoRef,"data-purpose":"video-previews"}),a.a.createElement("div",{className:"ud-heading-md course-preview--separation-text--hKp1Y"},gettext("Free Sample Videos:")),a.a.createElement("div",{className:"course-preview--preview-rows--126pq"},e.previews.map((t=>a.a.createElement(C,{preview:t,key:t.id,isCurrentPreview:e.currentPreview.id===t.id,play:e.playPreview(t,this.videoRef)})))))}};x=w([n["f"]],x);var D=r("./node_modules/@udemy/event-tracking/dist/esm/tracker/tracker.js");var M=r("./node_modules/autobind-decorator/lib/esm/index.js");var I=r("./node_modules/mobx/lib/mobx.module.js");var N=r("./node_modules/ua-parser-js/src/ua-parser.js");var F=r.n(N);var B=r("./src/udemy/js/utils/user-agent/get-is-safari-or-ios.ts");var L=r("./node_modules/@udemy/event-tracking/dist/esm/tracker/event-common.js");class A extends L["a"]{constructor(e,t,r){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;super("PreviewVideoPlayEvent");this.courseId=e;this.buyableTrackingId=t;this.previewId=r;this.offset=o;this.nonInteraction=s}}class U extends L["a"]{constructor(e,t,r){super("PreviewVideoViewEvent");this.courseId=e;this.buyableTrackingId=t;this.previewId=r}}var V=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class H{constructor(e,t,r,o){let s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};var n;this.course=e;this.previews=t;this.startPreviewId=r;this.fullscreenStore=o;this.overrideSetupData=s;this.uaParser=new F.a;this.isFirstPreview=true;this.isMiniPlayerOn=false;this.currentPreview=(n=this.previews.find((e=>e.id===this.startPreviewId)))!==null&&n!==void 0?n:this.previews[0]}getConfig(e){const t={assetId:e.id,playerId:`playerId__${e.id}`,trackingTag:"course_preview_asset",mediaLicenseToken:e.media_license_token,mediaSources:e.media_sources,duration:e.time_estimation,captions:Object(I["A"])(e.captions),thumbnailSprite:e.thumbnail_sprite,isDefaultPlaying:true,hotkeysEnabled:true,muxMetadata:{playerName:"Preview Player",assetId:e.id,duration:e.time_estimation,courseId:this.course.id,isPaid:this.course.is_paid},onPlayPauseToggled:this.onPlayPauseToggled,onVideoEnd:this.loadNextPreview};if(Object(B["a"])(this.uaParser)){t.isDefaultMuted=this.isFirstPreview;t.prioritizeDefaultMuted=this.isFirstPreview;t.extraVideoAttributes={playsInline:true}}return Object.assign(Object.assign({},t),this.overrideSetupData)}playPreview(e,t){return()=>{var r;if(e.id===this.currentPreview.id){return}this.setCurrentPreview(e);if(t){(r=t.current)===null||r===void 0?void 0:r.scrollIntoView({behavior:"smooth"})}}}setCurrentPreview(e){this.currentPreview=e;this.isFirstPreview=false;this.isMiniPlayerOn=true;this.publishPreviewViewEvent()}loadNextPreview(){var e;if(this.currentPreview.id===this.previews[this.previews.length-1].id){return}if((e=this.fullscreenStore)===null||e===void 0?void 0:e.isFullscreen){this.fullscreenStore.exitFullscreen()}const t=this.previews.findIndex((e=>e.id===this.currentPreview.id))+1;this.setCurrentPreview(this.previews[t])}publishPreviewViewEvent(){D["a"].publishEvent(new U(this.course.id,this.course.trackingId,this.currentPreview.id))}onPlayPauseToggled(e,t){if(e){const e=t<.2?0:t;const r=e===0;D["a"].publishEvent(new A(this.course.id,this.course.trackingId,this.currentPreview.id,e,r))}}}V([I["t"].ref],H.prototype,"currentPreview",void 0);V([I["t"]],H.prototype,"isMiniPlayerOn",void 0);V([I["e"]],H.prototype,"setCurrentPreview",null);V([M["a"]],H.prototype,"loadNextPreview",null);V([M["a"]],H.prototype,"publishPreviewViewEvent",null);V([M["a"]],H.prototype,"onPlayPauseToggled",null);var z=r("./src/udemy/js/utils/fullscreen.tsx");var $=r("./src/udemy/js/utils/ud-render-react-components.js");r.d(t,"App",(function(){return q}));r.d(t,"default",(function(){return K}));var W=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let q=class e extends i["Component"]{constructor(e){super(e);const{course:t,previews:r,startPreviewId:o,fullscreenStore:s}=e;this.store=new H(t,r,o,s);this.store.publishPreviewViewEvent()}render(){return a.a.createElement(x,{course:this.props.course,store:this.store})}};q.defaultProps={previews:[],startPreviewId:undefined,fullscreenStore:undefined};q=W([z["a"],Object(n["e"])("fullscreenStore")],q);function K(e,t){var r;t.course.trackingId=(r=Object(o["a"])(t.course.id))!==null&&r!==void 0?r:Object(s["b"])();Object($["a"])(e,".ud-component--course-preview--app",q,t)}},"./src/udemy/js/course-taking/curriculum/controls/control-bar-dropdown.less":function(e,t,r){e.exports={trigger:"control-bar-dropdown--trigger--iFz7P","trigger-small":"control-bar-dropdown--trigger-small--1ZPqx","trigger-dark":"control-bar-dropdown--trigger-dark--1qTuU",menu:"control-bar-dropdown--menu--2bFbL","menu-dark":"control-bar-dropdown--menu-dark--3cSQg","checkbox-slider":"control-bar-dropdown--checkbox-slider--1LPlb"}},"./src/udemy/js/course-taking/curriculum/controls/control-bar-dropdown.react-component.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return V}));r.d(t,"b",(function(){return W}));var o=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js");var s=r.n(o);var n=r("./node_modules/@udemy/design-system-utils/dist/esm/keyboard/keys.js");var i=r("./node_modules/@udemy/design-system-utils/dist/esm/a11y/a11y.js");var a=r("./node_modules/@udemy/design-system-utils/dist/esm/keyboard/focus-cycle.react-component.js");var l=r("./node_modules/@udemy/react-core-components/dist/esm/button/button.react-component.js");var c=r("./node_modules/@udemy/react-core-components/dist/esm/block-list/block-list.react-component.js");var d=r("./node_modules/@udemy/react-popup-components/dist/esm/tooltip/tooltip.react-component.js");var u=r("./node_modules/@udemy/react-popup-components/dist/esm/basic-popper/basic-popper.react-component.js");var p=r("./node_modules/@udemy/styles/dist/esm/tokens/index.js");var h=r("./node_modules/@udemy/styles/dist/esm/tokens/generated/index.js");var m=r("./node_modules/autobind-decorator/lib/esm/index.js");var f=r("./node_modules/classnames/index.js");var v=r.n(f);var y=r("./node_modules/mobx/lib/mobx.module.js");var g=r("./node_modules/mobx-react/dist/mobx-react.module.js");var b=r("./node_modules/prop-types/index.js");var P=r.n(b);var S=r("./node_modules/react/index.js");var E=r.n(S);var j=r("./src/udemy/js/course-taking/curriculum/controls/control-bar-dropdown.less");var w=r.n(j);var k,O,_,T,R,C,x,D,M,I,N,F,B,L;const A={"./control-bar-dropdown.less":{trigger:"control-bar-dropdown--trigger--iFz7P","trigger-small":"control-bar-dropdown--trigger-small--1ZPqx","trigger-dark":"control-bar-dropdown--trigger-dark--1qTuU",menu:"control-bar-dropdown--menu--2bFbL","menu-dark":"control-bar-dropdown--menu-dark--3cSQg","checkbox-slider":"control-bar-dropdown--checkbox-slider--1LPlb"}};const U={className:P.a.string,onClick:P.a.func,onKeyDown:P.a.func};const V=e=>{let{darkMode:t,tooltipProps:r,...o}=e;const n=E.a.createElement(l["a"],Object.assign({udStyle:"ghost"},o,{className:(o.className?o.className+" ":"")+s()(v()("trigger",{"trigger-dark":t,"trigger-small":o.size==="small"}),A)}));if(!r){return n}return E.a.createElement(d["a"],Object.assign({detachFromTarget:false,placement:"top",shouldCloseOtherPoppers:false,trigger:n},r))};V.propTypes={darkMode:P.a.bool,size:P.a.oneOf(["small","large"]),tooltipProps:P.a.object,...U};V.defaultProps={darkMode:false,size:"large",tooltipProps:null};let H=(k=Object(g["e"])((e=>{let{$$udControlBarDropdown:t}=e;return{$$udControlBarDropdown:t}})),k(O=Object(g["f"])(O=(_=(R=class e extends E.a.Component{constructor(){super(...arguments);babelHelpers.initializerDefineProperty(this,"isTooltipOpen",T,this)}onToggleTooltip(e){this.isTooltipOpen=!this.props.$$udControlBarDropdown.props.isOpen&&e}onKeyDown(e){const t=e.keyCode===n["b"].UP;const r=e.keyCode===n["b"].DOWN;if(t||r){e.preventDefault();const{$$udControlBarDropdown:o}=this.props;!o.props.isOpen&&o.props.onToggle(true);t&&setTimeout(o.focusOnLastMenuItem,0);r&&setTimeout(o.focusOnFirstMenuItem,0)}this.props.onKeyDown&&this.props.onKeyDown(e)}render(){const{$$udControlBarDropdown:e,...t}=this.props;if(t.tooltipProps){t.tooltipProps={...t.tooltipProps,isOpen:this.isTooltipOpen,onToggle:this.onToggleTooltip}}return E.a.createElement(V,Object.assign({"aria-haspopup":"menu"},t,{onKeyDown:this.onKeyDown}))}},R.propTypes={$$udControlBarDropdown:P.a.object.isRequired,...U},R),T=babelHelpers.applyDecoratedDescriptor(_.prototype,"isTooltipOpen",[y["t"]],{configurable:true,enumerable:true,writable:true,initializer:function(){return false}}),babelHelpers.applyDecoratedDescriptor(_.prototype,"onToggleTooltip",[m["a"],y["e"]],Object.getOwnPropertyDescriptor(_.prototype,"onToggleTooltip"),_.prototype),babelHelpers.applyDecoratedDescriptor(_.prototype,"onKeyDown",[m["a"]],Object.getOwnPropertyDescriptor(_.prototype,"onKeyDown"),_.prototype),_))||O)||O);let z=(C=Object(g["e"])((e=>{let{$$udControlBarDropdown:t}=e;return{$$udControlBarDropdown:t}})),C(x=(D=class e extends E.a.Component{renderListItem(e){if(!e){return null}return e.type==="li"?e:E.a.createElement("li",{role:"none"},e)}render(){const{$$udControlBarDropdown:e,...t}=this.props;return E.a.createElement(c["a"],Object.assign({role:"menu","aria-labelledby":e.triggerId,size:"small",renderListItem:this.renderListItem},t))}},D.propTypes={$$udControlBarDropdown:P.a.object.isRequired},D))||x);let $=(M=Object(g["e"])((e=>{let{$$udControlBarDropdown:t}=e;return{$$udControlBarDropdown:t}})),M(I=(N=(F=class e extends E.a.Component{onClick(e){const t=this.props.onClick&&this.props.onClick(e);if(t===true){this.props.$$udControlBarDropdown.props.onToggle(false);setTimeout((()=>{const e=this.props.$$udControlBarDropdown.findTriggerNode();e&&e.focus()}),0)}}render(){const{$$udControlBarDropdown:e,children:t,...r}=this.props;return E.a.createElement(c["a"].Item,Object.assign({componentClass:"button",role:"menuitem",tabIndex:"-1"},r,{onClick:this.onClick}),t,r.role==="menuitemcheckbox"&&E.a.createElement("span",{className:"control-bar-dropdown--checkbox-slider--1LPlb"}))}},F.propTypes={$$udControlBarDropdown:P.a.object.isRequired,...U},F),babelHelpers.applyDecoratedDescriptor(N.prototype,"onClick",[m["a"]],Object.getOwnPropertyDescriptor(N.prototype,"onClick"),N.prototype),N))||I);let W=(B=(L=class e extends E.a.Component{constructor(e,t){super(e,t);this.triggerId=this.props.trigger.props.id||Object(i["a"])("control-bar-dropdown-trigger");this.menuId=Object(i["a"])("control-bar-dropdown-menu");this.focusTrappingDialogProps={findTriggerNode:this.findTriggerNode}}findTriggerNode(){return document.getElementById(this.triggerId)}findMenuItemNodes(){const e=document.getElementById(this.menuId);const t=e?e.querySelectorAll("button,a[href],[tabindex]"):[];return Array.from(t).filter((e=>!e.hasAttribute("disabled")&&e.getAttribute("aria-disabled")!=="true"))}focusOnFirstMenuItem(){const e=this.findMenuItemNodes();e[0]&&e[0].focus()}focusOnLastMenuItem(){const e=this.findMenuItemNodes();e[e.length-1]&&e[e.length-1].focus()}onToggle(e){this.props.onToggle(e);e&&setTimeout(this.focusOnFirstMenuItem,0)}renderContent(e){let{style:t,...r}=e;r.style={...t,marginBottom:this.props.menuOffset};for(var o=arguments.length,s=new Array(o>1?o-1:0),n=1;n<o;n++){s[n-1]=arguments[n]}return Object(u["e"])(r,...s)}render(){const{children:e,darkMode:t,menuMaxHeight:r,menuOffset:o,...n}=this.props;return E.a.createElement(g["c"],{$$udControlBarDropdown:this,focusTrappingDialogProps:this.focusTrappingDialogProps},E.a.createElement(u["a"],Object.assign({},n,{trigger:E.a.cloneElement(n.trigger,{id:this.triggerId}),renderContent:this.renderContent,onToggle:this.onToggle}),E.a.createElement(a["a"],{getCycle:this.findMenuItemNodes},E.a.createElement("div",{id:this.menuId,style:{maxHeight:r},className:s()(v()("menu",{"menu-dark":t}),A)},e))))}},L.propTypes={trigger:P.a.node.isRequired,isOpen:P.a.bool.isRequired,onToggle:P.a.func.isRequired,placement:P.a.oneOf(["top-start","top-end"]).isRequired,darkMode:P.a.bool,menuMaxHeight:P.a.string,menuOffset:P.a.string},L.defaultProps={darkMode:false,menuMaxHeight:`${Object(p["c"])(280)}rem`,menuOffset:h["a"]["space-xs"]},L),babelHelpers.applyDecoratedDescriptor(B.prototype,"findTriggerNode",[m["a"]],Object.getOwnPropertyDescriptor(B.prototype,"findTriggerNode"),B.prototype),babelHelpers.applyDecoratedDescriptor(B.prototype,"findMenuItemNodes",[m["a"]],Object.getOwnPropertyDescriptor(B.prototype,"findMenuItemNodes"),B.prototype),babelHelpers.applyDecoratedDescriptor(B.prototype,"focusOnFirstMenuItem",[m["a"]],Object.getOwnPropertyDescriptor(B.prototype,"focusOnFirstMenuItem"),B.prototype),babelHelpers.applyDecoratedDescriptor(B.prototype,"focusOnLastMenuItem",[m["a"]],Object.getOwnPropertyDescriptor(B.prototype,"focusOnLastMenuItem"),B.prototype),babelHelpers.applyDecoratedDescriptor(B.prototype,"onToggle",[m["a"]],Object.getOwnPropertyDescriptor(B.prototype,"onToggle"),B.prototype),babelHelpers.applyDecoratedDescriptor(B.prototype,"renderContent",[m["a"]],Object.getOwnPropertyDescriptor(B.prototype,"renderContent"),B.prototype),B);W.Button=H;W.Menu=z;W.MenuItem=$},"./src/udemy/js/shaka-video-player/captions/captions.mobx-store.ts":function(e,t,r){"use strict";var o=r("./node_modules/js-cookie/src/js.cookie.js");var s=r.n(o);var n=r("./node_modules/mobx/lib/mobx.module.js");var i=r("./src/udemy/js/utils/get-request-data.js");var a=r("./src/udemy/js/shaka-video-player/captions/constants.ts");var l=r("./src/udemy/js/caption/caption.mobx-model.js");var c=r("./src/udemy/js/caption/cue.mobx-model.js");class d extends c["b"]{attachTrack(e){e.addEventListener("load",(()=>{Object(n["f"])((()=>{e.track.cues.getCueById(this.id).text=this.text}))}))}}var u=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class p extends l["b"]{constructor(e){super(e);this.mode=a["h"].HIDDEN;this.playerTime=0;this.textTrack=null;this.label=e.video_label;Object(n["D"])((()=>this.mode===a["h"].ACTIVE),this.loadFromSource)}get cues(){return this._cuesS}set cues(e){this._cuesS=e}constructCue(e){return new d(e)}setMode(e){this.mode=e}attachPlayer(e,t){var r,o,s;this.player=e;(o=(r=this.player)===null||r===void 0?void 0:r.getMediaElement())===null||o===void 0?void 0:o.addEventListener("timeupdate",Object(n["e"])((()=>{var e,t;this.playerTime=(t=(e=this.player.getMediaElement())===null||e===void 0?void 0:e.currentTime)!==null&&t!==void 0?t:0})));if(t){(s=this.player)===null||s===void 0?void 0:s.addTextTrackAsync(this.url,this.language,"captions","text/vtt")}}get activeCues(){return this.cues.filter((e=>e.startTime<=this.playerTime&&e.endTime>this.playerTime))}get asObjectURL(){return URL.createObjectURL(Object(l["a"])(this))}}u([n["t"]],p.prototype,"mode",void 0);u([n["t"].ref],p.prototype,"player",void 0);u([n["t"]],p.prototype,"playerTime",void 0);u([n["e"]],p.prototype,"setMode",null);u([n["e"]],p.prototype,"attachPlayer",null);u([n["g"]],p.prototype,"activeCues",null);u([n["g"]],p.prototype,"asObjectURL",null);r.d(t,"a",(function(){return f}));var h=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};const m=Object(i["a"])();class f{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;let r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{[m.locale.split("_")[0]]:1};let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;this.captions=[];this.getSortOrder=e=>this.languagePriorities[e.language]||e.label.codePointAt(0);this.updateCaptionModesFromNativeTrack=()=>{let e;this.captions.forEach((t=>{if(!t.textTrack){return}if(t.textTrack.mode===a["h"].ACTIVE){e=t}t.setMode(t.textTrack.mode)}));this.persistSelectedCaption(e)};this.toggleDefaultCaption=()=>{const e=this.activeTracks.length?this.activeTracks[0]:null;if(e){this.setActiveCaption(null)}else{let e=this.autoSelectedCaption;if(!e){e=this.sortedCaptions[0]}this.setActiveCaption(e)}};e.forEach((e=>{this.addCaptionFromAPI(e)}));this.isDefaultCaptionOn=o;if(t){this.autoSelectCaption()}this.languagePriorities=r}attachPlayerStore(e){this.videoPlayerStore=e}get sortedCaptions(){return this.captions.sort(((e,t)=>this.getSortOrder(e)-this.getSortOrder(t)))}addCaptionFromAPI(e){this.captions.push(new p(e))}setActiveCaption(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.captions.forEach((t=>{if(e&&t.id===e.id){this.setCaptionMode(t,a["h"].ACTIVE)}else if(t.mode===a["h"].ACTIVE){this.setCaptionMode(t,a["h"].HIDDEN)}}));if(t){this.persistSelectedCaption(e)}}setCaptionMode(e,t){e.setMode(t)}get autoSelectedCaption(){let e,t,r;const o=s.a.get(a["b"]);if(o!==undefined){if(!o){return null}e=o}const n=m.locale.substr(0,2);if(n!=="en"||this.isDefaultCaptionOn){t=n;r="en"}let i,l,c=null;this.captions.forEach((o=>{if(e&&o.language===e){i=o}else if(t&&o.language===t){l=o}else if(r&&o.language===r){c=o}}));let d=null;if(i){d=i}else if(l){d=l}else if(c){d=c}return d}autoSelectCaption(){const e=this.autoSelectedCaption;if(!e){return}this.setActiveCaption(e,false)}persistSelectedCaption(e){s.a.set(a["b"],e?e.language:"",{expires:30,path:"/"})}attachPlayer(e){this.player=e;this.captions.forEach((t=>{t.attachPlayer(e,this.videoPlayerStore.isUsingNativeControls)}));if(this.videoPlayerStore.isUsingNativeControls){}}get isLoaded(){return this.captions.every((e=>e.isLoaded))}get hasError(){return this.captions.some((e=>e.error))}get activeTracks(){return this.captions.filter((e=>e.mode===a["h"].ACTIVE))}get hasMachineTranslatedCaptions(){return this.captions.some((e=>e.isTranslation))}}h([n["t"]],f.prototype,"captions",void 0);h([n["t"].ref],f.prototype,"player",void 0);h([n["g"]],f.prototype,"sortedCaptions",null);h([n["e"]],f.prototype,"addCaptionFromAPI",null);h([n["g"]],f.prototype,"autoSelectedCaption",null);h([n["e"]],f.prototype,"attachPlayer",null);h([n["g"]],f.prototype,"isLoaded",null);h([n["g"]],f.prototype,"hasError",null);h([n["g"]],f.prototype,"activeTracks",null);h([n["g"]],f.prototype,"hasMachineTranslatedCaptions",null)},"./src/udemy/js/shaka-video-player/captions/constants.ts":function(e,t,r){"use strict";r.d(t,"g",(function(){return o}));r.d(t,"f",(function(){return s}));r.d(t,"c",(function(){return n}));r.d(t,"i",(function(){return i}));r.d(t,"d",(function(){return a}));r.d(t,"e",(function(){return l}));r.d(t,"j",(function(){return c}));r.d(t,"a",(function(){return d}));r.d(t,"b",(function(){return u}));r.d(t,"h",(function(){return h}));const o=Object.freeze({TRACKS:"tracks",SETTINGS:"settings",FONT_SIZE:"fonts",OPACITY:"opacity"});const s=Object.freeze([50,75,100,150,200]);const n=100;const i=Object.freeze([0,25,50,75,100]);const a=75;const l=false;const c="captionsettings";const d={FONT_SIZE_DEFAULT:24,FONT_SIZE_MIN:15};const u="caption";const p=Object.freeze({ON:"on",ON_AUTO:"on_auto",ON_COOKIE:"on_cookie",OFF:"off"});const h=Object.freeze({ACTIVE:"showing",INACTIVE:"disabled",HIDDEN:"hidden"})},"./src/udemy/js/shaka-video-player/captions/cue-display/captions-display.less":function(e,t,r){e.exports={"captions-container":"captions-display--captions-container--1SP58","user-inactive":"captions-display--user-inactive--1mfIN","captions-cue-text":"captions-display--captions-cue-text--1W4Ia"}},"./src/udemy/js/shaka-video-player/captions/cue-display/well.less":function(e,t,r){e.exports={container:"well--container--1cXrh",text:"well--text--1xGLx","transition-active":"well--transition-active--2EEJa"}},"./src/udemy/js/shaka-video-player/constants.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r.d(t,"f",(function(){return i}));r.d(t,"e",(function(){return a}));r.d(t,"b",(function(){return l}));r.d(t,"r",(function(){return c}));r.d(t,"o",(function(){return d}));r.d(t,"q",(function(){return u}));r.d(t,"p",(function(){return p}));r.d(t,"m",(function(){return h}));r.d(t,"c",(function(){return m}));r.d(t,"t",(function(){return f}));r.d(t,"s",(function(){return y}));r.d(t,"n",(function(){return b}));r.d(t,"d",(function(){return P}));r.d(t,"g",(function(){return S}));r.d(t,"h",(function(){return E}));r.d(t,"l",(function(){return j}));r.d(t,"k",(function(){return w}));r.d(t,"j",(function(){return k}));r.d(t,"i",(function(){return O}));var o=r("./src/udemy/js/utils/get-config-data.js");const s=Object(o["a"])();const n="auto";const i=n;const a=2e3;const l=Object.freeze({NONE:"none",PLAYBACK_RATE:"playback-rate",CAPTIONS:"captions",SETTINGS:"settings"});const c=5;const d=Object.freeze({PLAY_PAUSE:"play-pause",SEEK_BACK:"seek-back",SEEK_FORWARD:"seek-forward",SPEED_DOWN:"speed-down",SPEED_UP:"speed-up",VOLUME_DOWN:"volume-down",VOLUME_UP:"volume-up",TOGGLE_FULLSCREEN:"fullscreen",TOGGLE_MUTE:"mute"});const u=100;const p=100;const h="application/x-mpegURL";const m="application/dash+xml";const f=Object.freeze({CANNOT_ACCESS_MEDIA_SOURCE:100,CANNOT_RETRIEVE_DRM_LICENSE:101});const v=5;const y=Object.freeze({[MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED]:f.CANNOT_ACCESS_MEDIA_SOURCE,[v]:f.CANNOT_RETRIEVE_DRM_LICENSE});const g=Object.freeze({plugins:{},inactivityTimeout:a,children:["mediaLoader"]});const b=/^application\/x-mpegURL|application\/vnd\.apple\.mpegurl$/i;const P=/^application\/dash\+xml$/i;const S=`https://${s.drm_fairplay_certificate_cdn_domain}/fp-cert/9e5037892023e3ccab2815a6adf7d05b.der`;const E=s.drm_license_server_url_template;const j=new RegExp("skd://(\\w{32})","i");const w="Widevine";const k="PlayReady";const O="FairPlay"},"./src/udemy/js/shaka-video-player/control-bar/progress-display.less":function(e,t,r){e.exports={"progress-display":"progress-display--progress-display--wMlJV","progress-display-spacer":"progress-display--progress-display-spacer--1fpgb"}},"./src/udemy/js/shaka-video-player/control-bar/shaka-control-bar.less":function(e,t,r){e.exports={"popover-area":"shaka-control-bar--popover-area--1vJ7p","control-bar-wrapper":"shaka-control-bar--control-bar-wrapper--3WOBk","control-bar-container":"shaka-control-bar--control-bar-container--3_1nq","control-bar":"shaka-control-bar--control-bar--3DGdd",spacer:"shaka-control-bar--spacer--3mDmv"}},"./src/udemy/js/shaka-video-player/control-bar/video-control-bar-dropdown.less":function(e,t,r){e.exports={"tooltip-content":"video-control-bar-dropdown--tooltip-content--3cEu5","current-value":"video-control-bar-dropdown--current-value--1KGPt","prev-icon":"video-control-bar-dropdown--prev-icon--hrRYm","next-icon":"video-control-bar-dropdown--next-icon--1WFHm"}},"./src/udemy/js/shaka-video-player/control-bar/video-control-bar-dropdown.react-component.tsx":function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));r.d(t,"b",(function(){return E}));var o=r("./node_modules/@udemy/react-popup-components/dist/esm/basic-popper/basic-popper.react-component.js");var s=r("./node_modules/@udemy/react-popup-components/dist/esm/popover/popover.react-component.js");var n=r("./node_modules/@udemy/styles/dist/esm/tokens/index.js");var i=r("./node_modules/@udemy/styles/dist/esm/tokens/generated/index.js");var a=r("./node_modules/classnames/index.js");var l=r.n(a);var c=r("./node_modules/mobx-react/dist/mobx-react.module.js");var d=r("./node_modules/prop-types/index.js");var u=r.n(d);var p=r("./node_modules/react/index.js");var h=r.n(p);var m=r("./src/udemy/js/course-taking/curriculum/controls/control-bar-dropdown.react-component.js");var f=r("./src/udemy/js/shaka-video-player/control-bar/video-control-bar-dropdown.less");var v=r.n(f);var y=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};var g=undefined&&undefined.__rest||function(e,t){var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0)r[o]=e[o];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++){if(t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s]))r[o[s]]=e[o[s]]}return r};function b(e){var{className:t}=e,r=g(e,["className"]);return Object(o["e"])(Object.assign({className:l()(t,v.a["tooltip-content"])},r))}function P(e){let t=e.tooltipProps;if(t){t=Object.assign(Object.assign({},t),{renderContent:b})}return Object.assign(Object.assign({darkMode:true,size:"small"},e),{tooltipProps:t})}const S=e=>h.a.createElement(m["a"],P(e));let E=class e extends h.a.Component{render(){const e=this.props,{videoPlayerStore:t}=e,r=g(e,["videoPlayerStore"]);return h.a.createElement(m["b"],Object.assign({darkMode:true,menuMaxHeight:`${Object(n["c"])(.7*t.playerHeight)}rem`,menuOffset:i["a"]["space-lg"]},r))}};E.propTypes={videoPlayerStore:u.a.object.isRequired};E=y([Object(c["e"])("videoPlayerStore")],E);E.Button=e=>h.a.createElement(m["b"].Button,P(e));E.Menu=m["b"].Menu;E.MenuItem=m["b"].MenuItem;let j=class e extends h.a.Component{constructor(){super(...arguments);this.getScrollContainers=()=>[document.getElementById(this.props.$$udControlBarDropdown.menuId)]}render(){const e=this.props,{$$udControlBarDropdown:t}=e,r=g(e,["$$udControlBarDropdown"]);return h.a.createElement(s["a"],Object.assign({detachFromTarget:true,shouldCloseOtherPoppers:false,getScrollContainers:this.getScrollContainers},r))}};j.propTypes={$$udControlBarDropdown:u.a.object.isRequired};j=y([Object(c["e"])("$$udControlBarDropdown")],j);E.Popover=j},"./src/udemy/js/shaka-video-player/drm.ts":function(e,t,r){"use strict";(function(e){r.d(t,"b",(function(){return u}));r.d(t,"e",(function(){return p}));r.d(t,"d",(function(){return h}));r.d(t,"c",(function(){return m}));r.d(t,"a",(function(){return f}));r.d(t,"h",(function(){return y}));r.d(t,"g",(function(){return S}));r.d(t,"f",(function(){return _}));var o=r("./node_modules/axios/index.js");var s=r.n(o);var n=r("./src/udemy/js/utils/memoize.js");var i=r("./src/udemy/js/utils/ud-api.js");var a=r("./src/udemy/js/utils/ud-performance.ts");var l=r("./src/udemy/js/shaka-video-player/constants.ts");var c=r("./src/udemy/js/shaka-video-player/error-display.react-component.tsx");var d=undefined&&undefined.__awaiter||function(e,t,r,o){function s(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,n){function i(e){try{l(o.next(e))}catch(e){n(e)}}function a(e){try{l(o["throw"](e))}catch(e){n(e)}}function l(e){e.done?r(e.value):s(e.value).then(i,a)}l((o=o.apply(e,t||[])).next())}))};const u="com.apple.fps.1_0";const p="com.widevine.alpha";const h="com.microsoft.playready";const m={audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.640828"',robustness:"SW_SECURE_CRYPTO"}]};const f={audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.64001F"',robustness:"SW_SECURE_CRYPTO"}]};const v={drmTechUsed:""};const y=Object(n["a"])(((e,t)=>d(void 0,void 0,void 0,(function*(){if(typeof window.navigator.requestMediaKeySystemAccess==="function"){return new Promise((r=>{window.navigator.requestMediaKeySystemAccess(e,[t]).then(r).catch((()=>r(false)))}))}else if(typeof window.MSMediaKeys==="function"){return window.MSMediaKeys.isTypeSupported(e)}return false}))));const g=function(e){return d(this,void 0,void 0,(function*(){v.drmTechUsed=`${gettext("loading")}...`;const t=e.HlsSourceHandler.canPlayType;const r=yield y(u,m);const o=yield y(p,f);const s=yield y(h,f);e.HlsSourceHandler.canPlayType=function(e){if(!t.call(this,e)){return false}if(l["n"].test(e)&&r){return true}if(l["d"].test(e)&&(o||s)){return true}return false}}))};const b=function(e){return(e===null||e===void 0?void 0:e.response)&&[403].includes(e.response.status)};const P=function(){return{message:{errorBody:c["b"],errorFooter:c["c"]}}};const S=function(e,t){return l["h"].replace("{drm_type}",e).replace("{auth_token}",t).replace("{base_url}",i["e"])};const E=function(e,t){const r=String.fromCharCode.apply(null,t.buffer);const o=r.match(l["l"]);if(!o){throw new Error("Invalid content ID format")}return o[1]};const j=function(t){const r=S("widevine",t);return function(t,o,n){return d(this,void 0,void 0,(function*(){try{a["a"].start("drmGetLicenseForWidevine");v.drmTechUsed=l["k"];const t=yield s.a.post(r,o,{headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"});if(t.status>=400&&t.status<=599){n({});return}a["a"].end("drmGetLicenseForWidevine");n(null,new e(t.data,"base64"))}catch(e){b(e)?n(P()):n(e)}}))}};function w(e){const t=(new window.DOMParser).parseFromString(String.fromCharCode.apply(null,e),"application/xml");const r=t.getElementsByTagName("HttpHeaders")[0];const o=[];if(r){const e=r.getElementsByTagName("name");const t=r.getElementsByTagName("value");for(let r=0;r<e.length;r++){o[e[r].childNodes[0].nodeValue]=t[r].childNodes[0].nodeValue}}const s=t.getElementsByTagName("Challenge")[0];const n=s?window.atob(s.childNodes[0].nodeValue):undefined;return{headers:o,challenge:n}}const k=function(t){const r=S("playready",t);return function(t,o,n){return d(this,void 0,void 0,(function*(){const t=w(o);try{a["a"].start("drmGetLicenseForPlayReady");v.drmTechUsed=l["j"];const o=yield s.a.post(r,t.challenge,{headers:{"Content-Type":"application/octet-stream"},responseType:"arraybuffer"});if(o.status>=400&&o.status<=599){n({});return}a["a"].end("drmGetLicenseForPlayReady");n(null,new e(o.data,"base64"))}catch(e){n(e)}}))}};const O=function(t){const r=S("fairplay",t);return function(t,o,n,i){return d(this,void 0,void 0,(function*(){const t=e.from(n).toString("base64");const c=`spc=${t}&assetId=${o}`;try{a["a"].start("drmGetLicenseForFairPlay");v.drmTechUsed=l["i"];const t=yield s.a.post(r,c,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});a["a"].end("drmGetLicenseForFairPlay");i(null,new e(t.data,"base64"))}catch(e){i(e)}}))}};const _=function(e){return{[p]:{getLicense:j(e),videoRobustness:"SW_SECURE_CRYPTO",audioRobustness:"SW_SECURE_CRYPTO"},[h]:{getLicense:k(e)},[u]:{certificateUri:l["g"],getContentId:E,getLicense:O(e)}}};const T=function(e){const t=e.tech(true);t.on("keysessioncreated",(()=>{a["a"].start("drmLicenseProcessed")}));t.on("keystatuschange",(e=>{if(e.status==="usable"){a["a"].end("drmLicenseProcessed")}}))}}).call(this,r("./node_modules/buffer/index.js").Buffer)},"./src/udemy/js/shaka-video-player/error-display.less":function(e,t,r){e.exports={"dialog-container":"error-display--dialog-container--cZFWs",dialog:"error-display--dialog--rKzjl","scroll-wrapper":"error-display--scroll-wrapper--24F6Y","title-spacer":"error-display--title-spacer--2OMiF",title:"error-display--title--Gn6EE","close-button":"error-display--close-button--257fn"}},"./src/udemy/js/shaka-video-player/error-display.react-component.tsx":function(e,t,r){"use strict";r.d(t,"b",(function(){return k}));r.d(t,"c",(function(){return O}));r.d(t,"a",(function(){return _}));var o=r("./node_modules/@udemy/design-system-utils/dist/esm/a11y/a11y.js");var s=r("./node_modules/@udemy/icons/dist/close.ud-icon");var n=r.n(s);var i=r("./node_modules/@udemy/react-core-components/dist/esm/button/button.react-component.js");var a=r("./node_modules/@udemy/react-core-components/dist/esm/icon-button/icon-button.react-component.js");var l=r("./node_modules/@udemy/react-structure-components/dist/esm/footer-buttons/footer-buttons.react-component.js");var c=r("./node_modules/prop-types/index.js");var d=r.n(c);var u=r("./node_modules/react/index.js");var p=r.n(u);var h=r("./node_modules/react-dom/index.js");var m=r.n(h);var f=r("./src/udemy/js/utils/escape/safely-set-inner-html.js");var v=r("./src/udemy/js/utils/get-config-data.js");var y=r("./src/udemy/js/utils/ud-link.js");var g=r("./src/udemy/js/shaka-video-player/error-display.less");var b=r.n(g);const P=Object(v["a"])();const S=y["a"].toSupportLink("system_requirements",P.brand.has_organization);const E=y["a"].toSupportLink("video_audio_issues_troubleshooting",P.brand.has_organization);const j=y["a"].toSupportContact();const w=[p.a.createElement("p",{key:"apology"},gettext("We tried several times to play your video but there was an unforeseen error. "+"We have notified our engineers.")),p.a.createElement("p",Object.assign({key:"systemcheck"},Object(f["a"])({descriptionOfCaller:"error-display:system-check-link",html:interpolate(gettext('To check your system configuration, please visit our <a href="%(link)s" target="_blank">system check page</a>.'),{link:y["a"].toSupportSystemCheck()},true)}))),p.a.createElement("p",{key:"codec"},gettext("For some devices, a basic codec pack may need to be added to view this content.")),p.a.createElement("p",Object.assign({key:"tryagain"},Object(f["a"])({descriptionOfCaller:"error-display:support-link",html:interpolate(gettext("Please try again in a few minutes or <a %(hyperlink)s>contact support</a>."),{hyperlink:`href="${E}" target="_blank"`},true)})))];const k=[p.a.createElement("p",{key:"widevine-error-message"},p.a.createElement("span",{key:"widevine-error-message-opening"},gettext("There was a problem with your system settings. ")),p.a.createElement("span",Object.assign({key:"widevine-system-requirements"},Object(f["a"])({descriptionOfCaller:"error-display:system-requirements-link",html:interpolate(gettext("To check your settings, visit our <a %(hyperlink)s>System Requirements</a> "),{hyperlink:`href="${S}" target="_blank"`},true)}))),p.a.createElement("span",Object.assign({key:"widevine-trouble-shooting"},Object(f["a"])({descriptionOfCaller:"error-display:trouble-shooting-link",html:interpolate(gettext("and <a %(hyperlink)s>How to Troubleshoot Audio & Video Issues</a> pages. "),{hyperlink:`href="${E}" target="_blank"`},true)}))),p.a.createElement("span",{key:"widevine-error-message-closing"},gettext("If the problem continues, contact our support team.")))];const O=[p.a.createElement(i["a"],{"data-purpose":"widevine-error-message-contact-support-button",key:"widevine-error-message-contact-support-button",componentClass:"a",href:`${j}`},gettext("Contact support"))];class _ extends p.a.Component{constructor(){super(...arguments);this.labelledById=Object(o["a"])("error-display")}get footer(){if(!this.props.errorFooter){return null}const e=p.a.createElement(i["a"],{"data-purpose":"error-display-dismiss-error-button",udStyle:"ghost",onClick:this.props.store.hideError},gettext("Dismiss"));return p.a.createElement(l["a"],null,e,this.props.errorFooter)}render(){const e=p.a.createElement("div",{className:"error-display--dialog-container--cZFWs"},p.a.createElement("div",{className:"error-display--scroll-wrapper--24F6Y"},p.a.createElement("div",{role:"dialog",tabIndex:-1,"aria-labelledby":this.labelledById,className:"error-display--dialog--rKzjl"},p.a.createElement("div",{className:"error-display--title-spacer--2OMiF"},p.a.createElement("h2",{id:this.labelledById,className:"ud-heading-lg error-display--title--Gn6EE"},gettext("Video error"))),this.props.errorBody,this.footer,p.a.createElement(a["a"],{onClick:this.props.store.hideError,udStyle:"ghost",size:"medium",className:"error-display--close-button--257fn","data-purpose":"close-popup"},p.a.createElement(n.a,{color:"neutral",label:gettext("Close")})))));return m.a.createPortal(e,this.props.player.el())}}_.propTypes={player:d.a.object.isRequired,store:d.a.object.isRequired,errorBody:d.a.node,errorFooter:d.a.node};_.defaultProps={errorBody:w,errorFooter:null}},"./src/udemy/js/shaka-video-player/feedback/video-feedback.less":function(e,t,r){e.exports={container:"video-feedback--container--Ca3t_",circle:"video-feedback--circle--13wRA","pop-in":"video-feedback--pop-in--ZmNl8","play-icon":"video-feedback--play-icon--2GUai"}},"./src/udemy/js/shaka-video-player/playback-rate/playback-rate.less":function(e,t,r){e.exports={"playback-rate":"playback-rate--playback-rate--184BD",trigger:"playback-rate--trigger--2Gvv7","trigger-text":"playback-rate--trigger-text--2TfYV",menu:"playback-rate--menu--1J8uR"}},"./src/udemy/js/shaka-video-player/progress-bar/progress-bar.less":function(e,t,r){e.exports={"progress-bar-control":"progress-bar--progress-bar-control--2zR7z",slider:"progress-bar--slider--1ngl2","progress-holder":"progress-bar--progress-holder--1XVMX",hover:"progress-bar--hover--2uKEx","load-progress":"progress-bar--load-progress--2HDCN","play-progress":"progress-bar--play-progress--1SW-E"}},"./src/udemy/js/shaka-video-player/progress-bar/shaka-progress-bar.mobx-store.ts":function(e,t,r){"use strict";var o=r("./node_modules/mobx/lib/mobx.module.js");var s=r("./node_modules/@udemy/react-date-time-components/dist/esm/duration/duration.react-component.js");var n=r("./node_modules/shaka-player/dist/shaka-player.compiled.js");var i=r.n(n);var a=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class l{constructor(){this.isDragging=false;this.videoCurrentTime=0;this.thumbnailVTTUrl="";this.isHovering=false;this._bufferedPercent=0;this.progressBarTime=0;this.currentMouseTime=0;this.onProgress=()=>{this.setBuffered();this.setBufferedPercent()};this.setRef=e=>{this.ref=e};this.setProgressHolderRef=e=>{this.progressHolderRef=e};this.setPopoverAreaRef=e=>{this.popoverAreaRef=e};this.seekForward=()=>{if(this.playerStore){this.playerStore.seekForward()}};this.seekBack=()=>{if(this.playerStore){this.playerStore.seekBack()}}}setMoveEvent(e){this.moveEvent=e}get progressInfo(){const e=Object(s["b"])({numSeconds:this.progressBarTime,presentationStyle:"timestamp"},{gettext:gettext,interpolate:interpolate});const t=Object(s["b"])({numSeconds:this.videoDuration,presentationStyle:"timestamp"},{gettext:gettext,interpolate:interpolate});return interpolate(pgettext("current time position in video player. eg.: 03:52 of 06:00","%s of %s"),[e,t])}get currentTimePercentValue(){return(100/this.videoDuration*this.progressBarTime).toFixed(2)}get currentTimePercent(){return`${this.currentTimePercentValue}%`}get buffers(){const e=this._buffered;const t=e===null||e===void 0?void 0:e.length;return[...Array(t)].map(((t,r)=>{var o,s;return{start:(o=e[r])===null||o===void 0?void 0:o.start,end:(s=e[r])===null||s===void 0?void 0:s.end}}))}get bufferedPercent(){return`${Math.floor(this._bufferedPercent*100)}%`}get videoDuration(){var e,t;if(this.player instanceof i.a.Player){if(isNaN((e=this.player.getMediaElement())===null||e===void 0?void 0:e.duration)){return 0}const r=(t=this.player.getMediaElement())===null||t===void 0?void 0:t.duration;return r!==null&&r!==void 0?r:0}return 0}setHovering(e){this.isHovering=e}setBuffered(){var e,t,r;this._buffered=((e=this.player)===null||e===void 0?void 0:e.getBufferedInfo)?(r=(t=this.player)===null||t===void 0?void 0:t.getBufferedInfo())===null||r===void 0?void 0:r.total:[]}setBufferedPercent(){var e;let t=0;for(let r=0;r<((e=this._buffered)===null||e===void 0?void 0:e.length);r++){t+=this._buffered[r].end-this._buffered[r].start}this._bufferedPercent=t/this.videoDuration}attachPlayer(e,t){this.player=e;t===null||t===void 0?void 0:t.addEventListener("progress",this.onProgress);t===null||t===void 0?void 0:t.addEventListener("timeupdate",Object(o["e"])((e=>{var t;if((t=e===null||e===void 0?void 0:e.target)===null||t===void 0?void 0:t.currentTime){this.videoCurrentTime=e.target.currentTime}})));this.onProgress()}attachPlayerStore(e){this.playerStore=e}setDragging(e){this.isDragging=e}setProgressBarTime(e){this.progressBarTime=e}setThumbnailSprite(e){this.thumbnailSprite=e}setThumbnailsVTTUrl(e){this.thumbnailVTTUrl=e}setCurrentMouseTime(e){this.currentMouseTime=e}seekTo(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.setProgressBarTime(e);if(t){clearTimeout(this.playDebounced);this.playDebounced=setTimeout((()=>{var t;const r=(t=this===null||this===void 0?void 0:this.player)===null||t===void 0?void 0:t.getMediaElement();if(r!==undefined&&r!==null){r.currentTime=e}}),35)}}}a([o["t"].ref],l.prototype,"player",void 0);a([o["t"]],l.prototype,"playerStore",void 0);a([o["t"].ref],l.prototype,"ref",void 0);a([o["t"]],l.prototype,"progressHolderRef",void 0);a([o["t"]],l.prototype,"isDragging",void 0);a([o["t"]],l.prototype,"videoCurrentTime",void 0);a([o["t"].ref],l.prototype,"thumbnailSprite",void 0);a([o["t"]],l.prototype,"thumbnailVTTUrl",void 0);a([o["t"]],l.prototype,"isHovering",void 0);a([o["t"]],l.prototype,"moveEvent",void 0);a([o["t"]],l.prototype,"_buffered",void 0);a([o["t"]],l.prototype,"_bufferedPercent",void 0);a([o["t"]],l.prototype,"progressBarTime",void 0);a([o["t"]],l.prototype,"currentMouseTime",void 0);a([o["e"]],l.prototype,"setMoveEvent",null);a([o["g"]],l.prototype,"progressInfo",null);a([o["g"]],l.prototype,"currentTimePercentValue",null);a([o["g"]],l.prototype,"currentTimePercent",null);a([o["g"]],l.prototype,"bufferedPercent",null);a([o["e"]],l.prototype,"setHovering",null);a([o["e"]],l.prototype,"setBuffered",null);a([o["e"]],l.prototype,"setBufferedPercent",null);a([o["e"]],l.prototype,"attachPlayer",null);a([o["e"]],l.prototype,"attachPlayerStore",null);a([o["e"]],l.prototype,"setDragging",null);a([o["e"]],l.prototype,"setProgressBarTime",null);a([o["e"]],l.prototype,"setThumbnailSprite",null);a([o["e"]],l.prototype,"setThumbnailsVTTUrl",null);a([o["e"]],l.prototype,"setRef",void 0);a([o["e"]],l.prototype,"setProgressHolderRef",void 0);a([o["e"]],l.prototype,"setPopoverAreaRef",void 0);a([o["e"]],l.prototype,"setCurrentMouseTime",null);r.d(t,"a",(function(){return d}));var c=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class d extends l{attachPlayer(e,t){this.player=e;this.videoElement=t;this.videoElement.addEventListener("progress",this.onProgress);this.videoElement.addEventListener("timeupdate",Object(o["e"])((e=>{var t;if((t=e===null||e===void 0?void 0:e.target)===null||t===void 0?void 0:t.currentTime){this.videoCurrentTime=e.target.currentTime}})));this.onProgress()}get videoDuration(){var e,t;if(isNaN((e=this.videoElement)===null||e===void 0?void 0:e.duration)){return 0}const r=(t=this.videoElement)===null||t===void 0?void 0:t.duration;return r!==null&&r!==void 0?r:0}seekTo(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;this.setProgressBarTime(e);if(t){clearTimeout(this.playDebounced);this.playDebounced=setTimeout((()=>{if(this&&this.player){if(this.videoElement){this.videoElement.currentTime=e}}}),35)}}}c([o["e"]],d.prototype,"attachPlayer",null)},"./src/udemy/js/shaka-video-player/shaka-video-player.react-component.tsx":function(e,t,r){"use strict";var o=r("./node_modules/@udemy/icons/dist/play-arrow.ud-icon");var s=r.n(o);var n=r("./node_modules/@udemy/react-core-components/dist/esm/button/button.react-component.js");var i=r("./node_modules/@udemy/react-reveal-components/dist/esm/loader/loader.react-component.js");var a=r("./node_modules/classnames/index.js");var l=r.n(a);var c=r("./node_modules/mobx/lib/mobx.module.js");var d=r("./node_modules/mobx-react/dist/mobx-react.module.js");var u=r("./node_modules/prop-types/index.js");var p=r.n(u);var h=r("./node_modules/react/index.js");var m=r.n(h);var f=r("./node_modules/react-measure/lib/react-measure.js");var v=r.n(f);var y=r("./src/udemy/js/utils/autopilot.js");var g=r("./src/udemy/js/utils/fullscreen.tsx");var b=r("./src/udemy/js/utils/get-config-data.js");var P=r("./src/udemy/js/utils/get-request-data.js");var S=r("./src/udemy/js/utils/hotkeys.js");var E=r("./src/udemy/js/utils/noop.js");var j=r("./src/udemy/js/utils/ud-api-stat.js");var w=r("./src/udemy/js/utils/ud-me.js");var k=r("./src/udemy/js/utils/get-experiment-data.js");var O=r("./src/udemy/js/shaka-video-player/constants.ts");function _(e){var t;const r=new URL(e);if(/(\.udemy\.(com|cn)|\.dev-ud\.com)$/.test(r.hostname)){return(t=r.searchParams.get("provider"))!==null&&t!==void 0?t:"none"}if(/^h1010\./.test(r.hostname)){return"media_package"}if(/^\w+-a\./.test(r.hostname)){return"verizon"}if(/^\w+-b\./.test(r.hostname)){return"cdn77"}if(/^\w+-c\./.test(r.hostname)){return"cloudfront"}return"none"}function T(e){let t=null;if(e&&Object(k["c"])("sw","useEncryptedVideos",false)){t="encrypted_videos"}return t}function R(e){return Object.keys(e).reduce(((t,r)=>{const o=e[r].highest;if(o){t[r]=Math.round(o)}return t}),{})}function C(e){var t,r;const o={isAdaptive:e.isAdaptive,resolution:""};if(!o.isAdaptive){return o}if(((r=(t=e._videoPlayer.getManifest())===null||t===void 0?void 0:t.imageStreams[0])===null||r===void 0?void 0:r.mimeType)===O["m"]){o.resolution=e.hlsResolution.toString()}return o}function x(e){return{width:e.clientWidth,height:e.clientHeight}}function D(e){var t,r,o,s,n;const i=Object.assign({assetId:e.assetId,playerSessionId:e.sessionId,cdnProvider:_(e._videoPlayer.getAssetUri()),sourceType:(s=(o=(r=(t=e._videoPlayer)===null||t===void 0?void 0:t.getManifest())===null||r===void 0?void 0:r.variants[0])===null||o===void 0?void 0:o.video.mimeType)!==null&&s!==void 0?s:"video/mp4",resolution:e.activeResolution.label,currentTime:(n=e._videoPlayer.getMediaElement())===null||n===void 0?void 0:n.currentTime,isEncrypted:!!e.mediaLicenseToken,playerVersion:`videojs ${e._videoPlayer.videojsVersion}`,videoElement:{width:1080,height:720},bandwidthWatermarks:{},experimentName:""},C(e));if(e.videoElement){i.videoElement=x(e.videoElement)}if(Object.keys(e.bandwidthWatermarks).length>0){i.bandwidthWatermarks=R(e.bandwidthWatermarks)}const a=T(i.isEncrypted);if(a){i.experimentName=a}return i}function M(e){var t;if(!e.isAdaptive||!(e._videoPlayer.currentType()===O["m"])){return e.activeResolution.label}return(t=e.hlsResolution)===null||t===void 0?void 0:t.toString()}function I(e){if(e){const t=new URL(e);return t.pathname}}function N(e,t){return{assetId:e.assetId,userModulo:w["a"].id%100,retries:e.numErrors,errorCode:t.code,errorMessage:t.message,responseStatus:t.responseStatus,responseURL:t.responseURL,responsePath:I(t.responseURL),responseContentType:t.responseContentType,resolution:M(e),isAdaptive:e.isAdaptive,isEncrypted:!!e.mediaLicenseToken,trackingTag:e.trackingTag,readyState:e._videoPlayer.readyState(),networkState:e._videoPlayer.networkState(),cdn:_(e._videoPlayer.currentSrc()),srcType:e._videoPlayer.currentType()}}const F="8iioa2q7br3ci17v962kflt1c";const B="vfq2nsli1v76fglgdl9puq0cd";const L=["x015YltzinekiQmcKsWrsJ92Q==","x01k4HvrX4OniExuJIt2rtJ-g=="];const A=Object(b["a"])();function U(e,t,r){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var s;if(!e){return{}}const{assetId:n,courseId:i,duration:a,playerName:l,isPaid:c}=e;const d=((s=A.brand.organization)===null||s===void 0?void 0:s.encrypted_id)||0;const u=(t===null||t===void 0?void 0:t.length)?_(t[0].src):undefined;const p={plugins:{mux:{respectDoNotTrack:false,data:{env_key:B,player_name:l,player_init_time:Date.now(),viewer_user_id:w["a"].encrypted_id||0,video_id:n,video_cdn:u,video_title:n,video_duration:a,video_series:i,video_stream_type:c?"paid":"free",video_encoding_variant:r?"encrypted":"plain",sub_property_id:d}}}};if(A.env==="DEV"&&[39170530,39280020].includes(n)){p.plugins.mux.debug=true;p.plugins.mux.data.env_key=F;p.plugins.mux.data.player_name="Video JS Test Player";return p}const h=d||Math.random()<=.33;if(A.env==="PROD"&&h||o){return p}return{}}function V(e,t,r){let o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var s;if(!e){return{}}const{assetId:n,courseId:i,duration:a,playerName:l,isPaid:c}=e;const d=((s=A.brand.organization)===null||s===void 0?void 0:s.encrypted_id)||0;const u=(t===null||t===void 0?void 0:t.length)?_(t[0].src):undefined;const p={debug:false,disableCookies:false,respectDoNotTrack:false,data:{env_key:B,player_name:l,player_init_time:Date.now(),viewer_user_id:w["a"].encrypted_id||0,video_id:n,video_cdn:u,video_title:n,video_duration:a,video_series:i,video_stream_type:c?"paid":"free",video_encoding_variant:r?"encrypted":"plain",sub_property_id:d}};if(A.env==="DEV"){p.debug=true;p.data.env_key=F;return p}const h=d||Math.random()<=.33;if(A.env==="PROD"&&h||o){return p}return{}}var H=r("./src/udemy/js/shaka-video-player/captions/captions.mobx-store.ts");var z=r("./node_modules/babel-plugin-react-css-modules/dist/browser/getClassName.js");var $=r.n(z);var W=r("./node_modules/react-dom/index.js");var q=r.n(W);var K=r("./src/udemy/js/shaka-video-player/captions/cue-display/captions-display.less");var G=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let Y=class e extends m.a.Component{render(){if(!this.props.captionDisplayStore.activeCueText){return null}return m.a.createElement("div",{className:"captions-display--captions-cue-text--1W4Ia","data-purpose":"captions-cue-text",style:this.props.captionDisplayStore.captionStyle},this.props.captionDisplayStore.activeCueText)}};Y.propTypes={captionDisplayStore:p.a.object.isRequired};Y=G([Object(d["e"])("captionDisplayStore"),d["f"]],Y);var X=r("./src/udemy/js/shaka-video-player/captions/cue-display/well.less");var Q=r.n(X);var J=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};function Z(e,t){const r=e[0].toUpperCase()+e.slice(1);return{[`Webkit${r}`]:t,[`Moz${r}`]:t,[`ms${r}`]:t,[`O${r}`]:t,[e]:t}}let ee=class e extends m.a.Component{constructor(e){super(e);this.addContainerRef=e=>{this.containerRef=e};this.addTextRef=e=>{this.textRef=e};this.disposers=[]}componentDidMount(){this.disposers.push(Object(c["u"])(this.props.captionDisplayStore,"cuePosition",(()=>{this.textRef.classList.add(Q.a["transition-active"])})),Object(c["u"])(this.props.captionDisplayStore,"activeCueText",(()=>{this.textRef.classList.remove(Q.a["transition-active"]);this.reset=true})))}componentWillUnmount(){this.disposers.forEach((e=>e()))}render(){const{captionDisplayStore:e}=this.props;const t=this.containerRef&&this.textRef?this.textRef.offsetHeight-this.containerRef.offsetHeight:0;const r=Z("transform",`translateY(-${t*e.cuePosition}px)`);const o=Z("transform","none");const s=t&&!this.reset;this.reset=false;return m.a.createElement("div",{className:"well--container--1cXrh",style:{fontSize:e.captionStyle.fontSize},ref:this.addContainerRef},m.a.createElement("span",{className:"well--text--1xGLx well--transition-active--2EEJa",style:s?r:o,ref:this.addTextRef},e.activeCueText))}};ee.propTypes={captionDisplayStore:p.a.object.isRequired};ee=J([Object(d["e"])("captionDisplayStore"),d["f"]],ee);const te={"./captions-display.less":{"captions-container":"captions-display--captions-container--1SP58","user-inactive":"captions-display--user-inactive--1mfIN","captions-cue-text":"captions-display--captions-cue-text--1W4Ia"}};var re=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let oe=class e extends m.a.Component{render(){if(this.props.captionDisplayStore.shouldDisplayWell){return m.a.createElement(ee,{captionDisplayStore:this.props.captionDisplayStore})}const e=l()("captions-container",{"user-inactive":this.props.userActivityStore&&!this.props.userActivityStore.isUserActive});const t=m.a.createElement("div",{className:$()(e,te)},m.a.createElement(Y,{captionDisplayStore:this.props.captionDisplayStore}));return q.a.createPortal(t,this.props.containerForCue)}};oe.propTypes={containerForCue:p.a.object,captionDisplayStore:p.a.object.isRequired,userActivityStore:p.a.object};oe.defaultProps={userActivityStore:null,containerForCue:null};oe=re([Object(d["e"])("captionDisplayStore","userActivityStore"),d["f"]],oe);var se=r("./node_modules/@udemy/styles/dist/esm/tokens/index.js");var ne=r("./node_modules/store/dist/store.legacy.js");var ie=r.n(ne);var ae=r("./src/udemy/js/utils/composed-path.js");var le=r("./node_modules/ua-parser-js/src/ua-parser.js");var ce=r.n(le);const de=new ce.a;function ue(e){if(!e){return}const t=e.match(/^[0-9]+/g);if(t){return t[0]}}const pe={browser:de.getBrowser(),os:de.getOS(),device:de.getDevice(),isMobile:de.getDevice().type==="mobile"};const he=(e,t)=>{const r=e.indexOf("#");if(r===-1){return{src:e,x:0,y:0,w:0,h:0}}const o=e.substring(0,r);const s=e.substring(r+1);if(s.substring(0,5)!=="xywh="){return{src:t+o,x:0,y:0,w:0,h:0}}const n=s.substring(5).split(",");return{src:t+o,x:+n[0],y:+n[1],w:+n[2],h:+n[3]}};pe.browser.version=ue(pe.browser.version);pe.os.version=ue(pe.os.version);(()=>{if(pe.os.name==="Mac OS"&&window.navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1){pe.os.name="iOS"}})();var me=r("./src/udemy/js/shaka-video-player/captions/constants.ts");var fe=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class ve{constructor(e,t,r){this.activeFontSize=me["c"];this.activeOpacity=me["d"];this.isWellEnabled=me["e"];this.menuPage=me["g"].TRACKS;this.cuePosition=0;this.toggleMenu=e=>{if(e){this.controlBarStore.setMenuOpen(O["b"].CAPTIONS)}else{this.setSubmenu(me["g"].TRACKS);this.controlBarStore.setMenuClosed()}};this.toggleWellEnabled=()=>{this.userHasWellPreference=true;this.isWellEnabled=!this.isWellEnabled};this.updateUserPreferences=()=>{if(this.userHasFontSizePreference||this.userHasOpacityPreference||this.userHasWellPreference){const e={fontSize:-1,opacity:-1,isWellEnabled:false};if(this.userHasFontSizePreference){e.fontSize=this.activeFontSize}if(this.userHasOpacityPreference){e.opacity=this.activeOpacity}if(this.userHasWellPreference){e.isWellEnabled=this.isWellEnabled}ie.a.set(me["j"],e)}else{ie.a.remove(me["j"])}};this.reset=()=>{this.userHasFontSizePreference=false;this.userHasOpacityPreference=false;this.userHasWellPreference=false;this.activeFontSize=me["c"];this.activeOpacity=me["d"];this.isWellEnabled=me["e"]};this.calculateCuePosition=()=>{if(!this.activeCue){this.cuePosition=0;return}const e=this.activeCue.endTime-this.activeCue.startTime;this.cuePosition=(this.videoPlayerStore.currentTime-this.activeCue.startTime)/e};this.controlBarStore=e;this.captionsStore=t;this.videoPlayerStore=r;this.userHasFontSizePreference=false;this.userHasOpacityPreference=false;this.userHasWellPreference=false;this.loadUserPreferences();Object(c["v"])((()=>[this.activeFontSize,this.activeOpacity,this.isWellEnabled]),this.updateUserPreferences)}attachPlayer(e){var t;this.player=e;(t=e.getMediaElement())===null||t===void 0?void 0:t.addEventListener("timeupdate",this.calculateCuePosition)}get isMenuOpen(){return this.controlBarStore.activeMenu===O["b"].CAPTIONS}setSubmenu(e){this.menuPage=e}selectFontSize(e){this.userHasFontSizePreference=true;this.activeFontSize=e}selectTrackOpacity(e){this.userHasOpacityPreference=true;this.activeOpacity=e}loadUserPreferences(){const e=ie.a.get(me["j"]);if(e){if(e.fontSize!==undefined){this.activeFontSize=e.fontSize;this.userHasFontSizePreference=true}if(e.opacity!==undefined){this.activeOpacity=e.opacity;this.userHasOpacityPreference=true}if(e.isWellEnabled!==undefined){this.isWellEnabled=e.isWellEnabled;this.userHasWellPreference=true}}}get activeTrack(){if(!this.captionsStore.activeTracks.length){return null}return this.captionsStore.activeTracks[0]}get activeCue(){if(!this.activeTrack||!this.activeTrack.activeCues.length){return null}return this.activeTrack.activeCues[0]}get activeCueText(){if(!this.activeCue){return""}return this.activeCue.displayText}get captionStyle(){const e=this.videoPlayerStore.playerHeight;let t;if(!e){t=me["a"].FONT_SIZE_DEFAULT}else{t=Math.max(e*.04,me["a"].FONT_SIZE_MIN)}const r=this.activeFontSize/100*t;return{fontSize:`${Object(se["c"])(r)}rem`,opacity:this.activeOpacity/100}}get shouldDisplayWell(){return this.isWellEnabled&&this.activeTrack&&!pe.isMobile}}fe([c["t"]],ve.prototype,"activeFontSize",void 0);fe([c["t"]],ve.prototype,"activeOpacity",void 0);fe([c["t"]],ve.prototype,"isWellEnabled",void 0);fe([c["t"]],ve.prototype,"menuPage",void 0);fe([c["t"]],ve.prototype,"cuePosition",void 0);fe([c["g"]],ve.prototype,"isMenuOpen",null);fe([c["e"]],ve.prototype,"setSubmenu",null);fe([c["e"]],ve.prototype,"selectFontSize",null);fe([c["e"]],ve.prototype,"selectTrackOpacity",null);fe([c["e"]],ve.prototype,"toggleWellEnabled",void 0);fe([c["e"]],ve.prototype,"loadUserPreferences",null);fe([c["e"]],ve.prototype,"reset",void 0);fe([c["e"]],ve.prototype,"calculateCuePosition",void 0);fe([c["g"]],ve.prototype,"activeTrack",null);fe([c["g"]],ve.prototype,"activeCue",null);fe([c["g"]],ve.prototype,"activeCueText",null);fe([c["g"]],ve.prototype,"captionStyle",null);fe([c["g"]],ve.prototype,"shouldDisplayWell",null);class ye extends ve{attachPlayer(e){e===null||e===void 0?void 0:e.setTextTrackVisibility(true);this.player=e}}var ge=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class be{constructor(){this.activeMenu=O["b"].NONE}setMenuOpen(e){this.activeMenu=e}setMenuClosed(){this.activeMenu=O["b"].NONE}}ge([c["t"]],be.prototype,"activeMenu",void 0);ge([c["e"]],be.prototype,"setMenuOpen",null);ge([c["e"]],be.prototype,"setMenuClosed",null);var Pe=r("./node_modules/@udemy/design-system-utils/dist/esm/a11y/a11y.js");var Se=r("./node_modules/@udemy/react-core-components/dist/esm/image/image.react-component.js");var Ee=r("./node_modules/axios/index.js");var je=r.n(Ee);var we=r("./node_modules/webvtt-parser/parser.js");const ke="durationchange";const Oe="loadedmetadata";var _e=r("./src/udemy/js/shaka-video-player/sneak-peek/sneak-peek.less");var Te=r.n(_e);var Re=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class Ce{constructor(e){var t,r;this.duration=null;this.thumbnailsVTTUrl="";this.setDuration=()=>{this.duration=this.player.getMediaElement().duration};this.setProgressBarStore(e);this.thumbnailsVTTUrl=(r=(t=this.progressBarStore)===null||t===void 0?void 0:t.thumbnailSprite)===null||r===void 0?void 0:r.vtt_url;this.sneakPeekCues=[]}setProgressBarStore(e){this.progressBarStore=e}get isHovering(){return this.progressBarStore.isHovering}get portalElement(){return this.progressBarStore.ref}get thumbSpriteUrl(){return new URL(this.progressBarStore.thumbnailSprite.img_url)}get player(){return this.progressBarStore.player}get videoElement(){return this.progressBarStore.videoElement}get moveEvent(){return this.progressBarStore.moveEvent}}Re([c["t"].ref],Ce.prototype,"progressBarStore",void 0);Re([c["t"]],Ce.prototype,"duration",void 0);Re([c["t"]],Ce.prototype,"thumbnailsVTTUrl",void 0);Re([c["e"]],Ce.prototype,"setProgressBarStore",null);Re([c["e"]],Ce.prototype,"setDuration",void 0);Re([c["g"]],Ce.prototype,"isHovering",null);Re([c["g"]],Ce.prototype,"portalElement",null);Re([c["g"]],Ce.prototype,"thumbSpriteUrl",null);Re([c["g"]],Ce.prototype,"player",null);Re([c["g"]],Ce.prototype,"videoElement",null);Re([c["g"]],Ce.prototype,"moveEvent",null);var xe=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let De=class e extends m.a.Component{constructor(e){super(e);this.setDurationEvents=()=>{[ke,Oe].forEach((e=>{if(this.sneakPeekStore.videoElement){this.sneakPeekStore.videoElement.addEventListener(e,this.sneakPeekStore.setDuration)}}));this.sneakPeekStore.setDuration()};this.sneakPeekStore=new Ce(e.progressBarStore);this.addSneakPeekCues();this.setReactions()}setReactions(){Object(c["v"])((()=>this.sneakPeekStore.player),(()=>this.sneakPeekStore.setProgressBarStore(this.props.progressBarStore)));Object(c["v"])((()=>this.sneakPeekStore.sneakPeekCues),this.setDurationEvents,{fireImmediately:true})}addSneakPeekCues(){je.a.get(this.sneakPeekStore.thumbnailsVTTUrl).then((e=>{const t=e.data;const r=new we["WebVTTParser"](this.sneakPeekStore.videoElement,"thumbnails");const o=r.parse(t).cues;for(let e=0;e<o.length;e++){const t=o[e];const r=new VTTCue(t.startTime,t.endTime,t.text);this.sneakPeekStore.sneakPeekCues.push(r)}})).catch((e=>{j["b"].increment("thumbnails_vtt_error",e)}))}get imgStyles(){const e=[this.imageSettings.y,this.imageSettings.w+this.imageSettings.x,this.imageSettings.y+this.imageSettings.h,this.imageSettings.x];return{left:`${-this.imageSettings.x}px`,top:`${-this.imageSettings.y}px`,clip:`rect(${e.join("px,")}px)`}}get containerLeft(){const e=this.sneakPeekStore.portalElement.getBoundingClientRect();const t=window.pageXOffset||document.documentElement.scrollLeft;const r=(e.width||e.right)+t;let o=this.mouseLeftPosition;const s=this.imageSettings.w/2;if(o+s>r){o=r-this.imageSettings.w}else if(o<s){o=0}else{o=o-s}return o}get containerStyles(){const e={width:"0",height:"0",left:"0",right:"0"};if(this.imageSettings&&this.imageSettings.w!==0){e.width=`${this.imageSettings.w}px`;e.height=`${this.imageSettings.h}px`;if(this.sneakPeekStore.isHovering){e.left=`${this.containerLeft}px`}else{e.left="-1000px"}}return e}get imgSrc(){let e="";if(this.imageSettings.src[0]==="/"){e=this.sneakPeekStore.videoElement.currentSrc();e=e.substring(0,e.lastIndexOf("/"))}return e+this.imageSettings.src+this.sneakPeekStore.thumbSpriteUrl.search}get mouseLeftPosition(){if(!this.sneakPeekStore.moveEvent){return null}const e=this.sneakPeekStore.moveEvent.changedTouches?this.sneakPeekStore.moveEvent.changedTouches[0].pageX:this.sneakPeekStore.moveEvent.pageX;const t=window.pageXOffset||document.documentElement.scrollLeft;let r=e||this.sneakPeekStore.moveEvent.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;r-=this.sneakPeekStore.portalElement.getBoundingClientRect().left+t;return r}get imageSettings(){let e=0;let t={w:0,h:0,x:0,y:0,src:""};const r=this.sneakPeekStore.portalElement.offsetWidth>0?this.sneakPeekStore.portalElement.offsetWidth:1;const o=Math.floor(this.mouseLeftPosition/r*this.sneakPeekStore.duration);const s=this.sneakPeekStore.thumbSpriteUrl.toString().split("?")[0];const n=`${s.slice(0,s.lastIndexOf("/"))}/`;while(e<this.sneakPeekStore.sneakPeekCues.length){const r=this.sneakPeekStore.sneakPeekCues[e];if(r.startTime<=o&&r.endTime>=o){t=he(r.text,n);break}e++}if(t){t.w=t.w?t.w:0;t.h=t.h?t.h:0}return t}get shouldRender(){if(!this.props.progressBarStore||!this.props.progressBarStore.thumbnailSprite||!this.props.progressBarStore.ref||!this.sneakPeekStore.thumbnailsVTTUrl||!this.sneakPeekStore.sneakPeekCues||this.sneakPeekStore.sneakPeekCues.length==0){return false}return true}render(){return this.shouldRender?m.a.createElement("div",{className:Te.a["sneak-peek-holder"],"data-purpose":"video-sneak-peek-container",style:this.containerStyles,ref:m.a.createRef()},m.a.createElement(Se["a"],{lazy:false,"data-purpose":"video-sneak-peek-image",alt:gettext("Lecture thumbnail"),className:Te.a["sneak-peek"],src:this.imgSrc,height:"unset",width:"unset",style:Object(c["A"])(this.imgStyles)})):null}};De.propTypes={progressBarStore:p.a.object.isRequired};De=xe([Object(d["e"])("progressBarStore"),d["f"]],De);var Me=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let Ie=class e extends h["Component"]{constructor(){super(...arguments);this.renderBuffer=(e,t)=>{let{start:r,end:o}=e;return m.a.createElement("div",{"data-purpose":"video-progress-buffer",key:t,style:{left:this.calculateBufferTimePercent(r),width:this.calculateWidth(r,o)}})}}calculateBufferTimePercent(e){const t=this.props.progressBarStore.videoDuration;return`${100/t*e}%`}calculateWidth(e,t){const r=this.calculateBufferTimePercent(e);const o=this.calculateBufferTimePercent(t);return`calc(${o} - ${r})`}render(){var e,t;return(t=(e=this.props.progressBarStore)===null||e===void 0?void 0:e.buffers)===null||t===void 0?void 0:t.map(this.renderBuffer)}};Ie.propTypes={progressBarStore:p.a.object.isRequired};Ie=Me([Object(d["e"])("progressBarStore"),d["f"]],Ie);var Ne=r("./src/udemy/js/shaka-video-player/progress-bar/progress-bar.less");var Fe=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let Be=class e extends h["Component"]{get loadedInfo(){const e=gettext("Loaded: %(bufferedPercent)s");return interpolate(e,{bufferedPercent:this.props.progressBarStore.bufferedPercent},true)}render(){return m.a.createElement("div",{className:"progress-bar--load-progress--2HDCN"},m.a.createElement("span",{className:"ud-sr-only"},this.loadedInfo),m.a.createElement(Ie,{progressBarStore:this.props.progressBarStore}))}};Be.propTypes={progressBarStore:p.a.object.isRequired};Be=Fe([Object(d["e"])("progressBarStore"),d["f"]],Be);var Le=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let Ae=class e extends h["Component"]{get progressBarInfo(){const e=gettext("Progress bar: %(currentTimePercent)s");return interpolate(e,{currentTimePercent:this.props.progressBarStore.currentTimePercent},true)}render(){return m.a.createElement("div",{className:"progress-bar--play-progress--1SW-E",style:{width:this.props.progressBarStore.currentTimePercent}},m.a.createElement("span",{className:"ud-sr-only"},this.progressBarInfo))}};Ae.propTypes={progressBarStore:p.a.object.isRequired};Ae=Le([Object(d["e"])("progressBarStore"),d["f"]],Ae);const Ue={"./progress-bar.less":{"progress-bar-control":"progress-bar--progress-bar-control--2zR7z",slider:"progress-bar--slider--1ngl2","progress-holder":"progress-bar--progress-holder--1XVMX",hover:"progress-bar--hover--2uKEx","load-progress":"progress-bar--load-progress--2HDCN","play-progress":"progress-bar--play-progress--1SW-E"}};var Ve=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let He=class e extends h["Component"]{constructor(e){super(e);this.listeners=[];this.seekToCurrentMousePosition=()=>{this.props.progressBarStore.seekTo(this.props.progressBarStore.currentMouseTime)};this.onDragEnd=e=>{if(this.isOutsideProgressBarEvent(e)){this.props.progressBarStore.setHovering(false)}this.props.progressBarStore.setDragging(false)};this.onMouseEnter=()=>{this.props.progressBarStore.setHovering(true)};this.documentMove=e=>{if(this.props.progressBarStore.isDragging&&this.isOutsideProgressBarEvent(e)){this.moveListener(e);this.seekToCurrentMousePosition()}};this.isOutsideProgressBarEvent=e=>{const t=e.path||e.composedPath();const r=t.includes(document);const o=t.includes(this.props.progressBarStore.ref);if(!r){return false}return!o};this.whenIsDragging=e=>t=>this.props.progressBarStore.isDragging&&e(t);this.whenIsNotDragging=e=>()=>!this.props.progressBarStore.isDragging&&e();this.disableSelection=e=>{e.preventDefault()};this.onDragStart=()=>{this.props.progressBarStore.setDragging(true)};this.moveListener=e=>{this.props.progressBarStore.setMoveEvent(e);const t=window.pageXOffset||document.documentElement.scrollLeft;const r=e.changedTouches?e.changedTouches[0].pageX:e.pageX;const o=(r||e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft)-this.props.progressBarStore.ref.getBoundingClientRect().left+t;const s=o>this.props.progressBarStore.ref.offsetWidth?this.props.progressBarStore.ref.offsetWidth:o;const n=s<0?0:s;this.props.progressBarStore.setCurrentMouseTime(Math.floor(n/this.props.progressBarStore.ref.offsetWidth*this.props.progressBarStore.videoDuration))};this.onKeyDown=e=>{Object(Pe["b"])((()=>{e.preventDefault();this.props.progressBarStore.seekBack()}))(e);Object(Pe["f"])((()=>{e.preventDefault();this.props.progressBarStore.seekForward()}))(e);Object(Pe["d"])((()=>{e.preventDefault()}))(e)};this.progressBarTimeUpdateDisposer=Object(c["v"])((()=>this.props.progressBarStore.videoCurrentTime),(()=>{this.props.progressBarStore.setProgressBarTime(this.props.progressBarStore.videoCurrentTime)}),{fireImmediately:true});Object(c["D"])((()=>this.props.progressBarStore.ref),(()=>{const e=this.props.progressBarStore.ref;this.addBulkEvents([{on:["touchmove","mousemove"],run:this.moveListener},{on:"click",run:this.seekToCurrentMousePosition},{on:"mousemove",run:[this.whenIsDragging(this.seekToCurrentMousePosition)]},{selector:window,on:"mousemove",run:this.documentMove},{on:"mousedown",run:this.onDragStart},{selectors:[e,window,document.body],on:"mouseup",run:this.onDragEnd},{on:"mouseenter",run:this.onMouseEnter},{on:"mouseleave",run:this.whenIsNotDragging((()=>this.props.progressBarStore.setHovering(false)))},{selectors:[e,window],on:"selectstart",run:this.whenIsDragging(this.disableSelection)}])}),{fireImmediately:true})}componentWillUnmount(){this.progressBarTimeUpdateDisposer();this.listenersDisposer()}addBulkEvents(e){e.forEach((e=>{let{on:t,run:r,selectors:o=null,selector:s=this.props.progressBarStore.ref}=e;return this.addListeners(t,r,o||s)}))}addListeners(e,t,r){if(Array.isArray(r)){r.forEach((r=>this.addListeners(e,t,r)))}else if(Array.isArray(e)){e.forEach((e=>this.addListeners(e,t,r)))}else if(Array.isArray(t)){t.forEach((t=>this.addListeners(e,t,r)))}else{const o=r;this.addListener(e,t,o)}}addListener(e,t,r){if(!r){return false}r.addEventListener(e,t);this.listeners.push({on:e,run:t,selector:r})}listenersDisposer(){this.listeners.forEach((e=>{let{on:t,run:r,selector:o}=e;return o.removeEventListener(t,r)}))}get styles(){return l()({"progress-bar-control":true,hover:this.props.progressBarStore.isHovering})}render(){return m.a.createElement("div",{ref:this.props.progressBarStore.setRef,className:$()(this.styles,Ue)},m.a.createElement("div",{tabIndex:0,className:"progress-bar--slider--1ngl2",role:"slider","data-purpose":"video-progress-bar","aria-label":gettext("Progress bar"),"aria-valuetext":this.props.progressBarStore.progressInfo,"aria-valuenow":parseInt(this.props.progressBarStore.currentTimePercentValue,10),"aria-valuemin":0,"aria-valuemax":100,onKeyDown:this.onKeyDown},m.a.createElement("div",{ref:this.props.progressBarStore.setProgressHolderRef,className:"progress-bar--progress-holder--1XVMX"},m.a.createElement(Be,null),m.a.createElement(Ae,null))),m.a.createElement(De,{moveEvent:this.props.progressBarStore.moveEvent}))}};He.propTypes={progressBarStore:p.a.object.isRequired};He=Ve([Object(d["e"])("progressBarStore"),d["f"]],He);var ze=r("./node_modules/@udemy/icons/dist/subtitles.ud-icon");var $e=r.n(ze);var We=r("./src/udemy/js/shaka-video-player/control-bar/video-control-bar-dropdown.react-component.tsx");var qe=r("./node_modules/@udemy/icons/dist/next.ud-icon");var Ke=r.n(qe);var Ge=r("./node_modules/@udemy/icons/dist/previous.ud-icon");var Ye=r.n(Ge);var Xe=r("./src/udemy/js/shaka-video-player/control-bar/video-control-bar-dropdown.less");var Qe=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let Je=class e extends m.a.Component{constructor(){super(...arguments);this.goToTracks=()=>{this.props.captionDisplayStore.setSubmenu(me["g"].TRACKS);this.props.onChangeMenu()};this.goToFontSize=()=>{this.props.captionDisplayStore.setSubmenu(me["g"].FONT_SIZE);this.props.onChangeMenu()};this.goToOpacity=()=>{this.props.captionDisplayStore.setSubmenu(me["g"].OPACITY);this.props.onChangeMenu()}}render(){const{captionDisplayStore:e}=this.props;const t=gettext("Caption settings");return m.a.createElement(We["b"].Menu,{"data-purpose":"captions-dropdown-menu"},m.a.createElement(We["b"].MenuItem,{onClick:this.goToTracks,"data-purpose":"go-to-tracks","aria-label":gettext("Back to captions menu")},m.a.createElement(Ye.a,{label:false,color:"inherit",className:"video-control-bar-dropdown--prev-icon--hrRYm"}),t),m.a.createElement("li",{role:"separator"}),m.a.createElement("ul",{className:"ud-unstyled-list",role:"group","aria-label":t},m.a.createElement("li",null,m.a.createElement(We["b"].MenuItem,{onClick:this.goToFontSize,"data-purpose":"go-to-font-size","aria-haspopup":"menu"},gettext("Font size"),m.a.createElement("span",{"data-purpose":"current-font-size",className:"video-control-bar-dropdown--current-value--1KGPt"},`${e.activeFontSize}%`),m.a.createElement(Ke.a,{label:false,color:"inherit",className:"video-control-bar-dropdown--next-icon--1WFHm"}))),m.a.createElement("li",null,m.a.createElement(We["b"].MenuItem,{onClick:this.goToOpacity,"data-purpose":"go-to-opacity","aria-haspopup":"menu"},gettext("Background opacity"),m.a.createElement("span",{"data-purpose":"current-opacity",className:"video-control-bar-dropdown--current-value--1KGPt"},`${e.activeOpacity}%`),m.a.createElement(Ke.a,{label:false,color:"inherit",className:"video-control-bar-dropdown--next-icon--1WFHm"}))),!pe.isMobile&&m.a.createElement("li",null,m.a.createElement(We["b"].MenuItem,{onClick:e.toggleWellEnabled,"aria-checked":e.isWellEnabled,role:"menuitemcheckbox"},gettext("Display under video"))),m.a.createElement("li",null,m.a.createElement(We["b"].MenuItem,{onClick:e.reset,"data-purpose":"reset"},gettext("Reset")))))}};Je.propTypes={captionDisplayStore:p.a.object.isRequired,onChangeMenu:p.a.func.isRequired};Je=Qe([Object(d["e"])("captionDisplayStore"),d["f"]],Je);var Ze=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let et=class e extends m.a.Component{constructor(){super(...arguments);this.goToSettings=()=>{this.props.captionDisplayStore.setSubmenu(me["g"].SETTINGS);this.props.onChangeMenu()}}render(){const{captionDisplayStore:e}=this.props;const t=gettext("Font size");return m.a.createElement(We["b"].Menu,{"data-purpose":"captions-dropdown-menu"},m.a.createElement(We["b"].MenuItem,{onClick:this.goToSettings,"data-purpose":"go-to-settings","aria-label":gettext("Back to caption settings menu")},m.a.createElement(Ye.a,{label:false,color:"inherit",className:"video-control-bar-dropdown--prev-icon--hrRYm"}),t),m.a.createElement("li",{role:"separator"}),m.a.createElement("ul",{className:"ud-unstyled-list",role:"group","aria-label":t},me["f"].map((t=>m.a.createElement("li",{key:t},m.a.createElement(We["b"].MenuItem,{onClick:()=>e.selectFontSize(t),"aria-checked":e.activeFontSize===t,role:"menuitemradio"},`${t}%`))))))}};et.propTypes={captionDisplayStore:p.a.object.isRequired,onChangeMenu:p.a.func.isRequired};et=Ze([Object(d["e"])("captionDisplayStore"),d["f"]],et);var tt=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let rt=class e extends m.a.Component{constructor(){super(...arguments);this.goToSettings=()=>{this.props.captionDisplayStore.setSubmenu(me["g"].SETTINGS);this.props.onChangeMenu()}}render(){const{captionDisplayStore:e}=this.props;const t=gettext("Background opacity");return m.a.createElement(We["b"].Menu,{"data-purpose":"captions-dropdown-menu"},m.a.createElement(We["b"].MenuItem,{onClick:this.goToSettings,"data-purpose":"go-to-settings","aria-label":gettext("Back to caption settings menu")},m.a.createElement(Ye.a,{label:false,color:"inherit",className:"video-control-bar-dropdown--prev-icon--hrRYm"}),t),m.a.createElement("li",{role:"separator"}),m.a.createElement("ul",{className:"ud-unstyled-list",role:"group","aria-label":t},me["i"].map((t=>m.a.createElement("li",{key:t},m.a.createElement(We["b"].MenuItem,{onClick:()=>e.selectTrackOpacity(t),"aria-checked":e.activeOpacity===t,role:"menuitemradio"},`${t}%`))))))}};rt.propTypes={captionDisplayStore:p.a.object.isRequired,onChangeMenu:p.a.func.isRequired};rt=tt([Object(d["e"])("captionDisplayStore"),d["f"]],rt);var ot=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let st=class e extends m.a.Component{constructor(){super(...arguments);this.goToSettings=()=>{this.props.captionDisplayStore.setSubmenu(me["g"].SETTINGS);this.props.onChangeMenu()}}render(){const{captionDisplayStore:e,captionsStore:t}=this.props;return m.a.createElement(We["b"].Menu,{"data-purpose":"captions-dropdown-menu"},m.a.createElement("ul",{className:"ud-unstyled-list",role:"group","aria-label":gettext("Captions")},m.a.createElement("li",null,m.a.createElement(We["b"].MenuItem,{onClick:()=>t.setActiveCaption(null),"aria-checked":!e.activeTrack,role:"menuitemradio"},gettext("Off"))),t.sortedCaptions.map((e=>m.a.createElement("li",{key:e.id},m.a.createElement(We["b"].MenuItem,{onClick:()=>t.setActiveCaption(e),"aria-checked":e.mode===me["h"].ACTIVE,role:"menuitemradio"},e.label))))),t.hasMachineTranslatedCaptions&&m.a.createElement(We["b"].MenuItem,{componentClass:"a",href:"http://translate.google.com",target:"_blank",rel:"noopener noreferrer","data-purpose":"attribution-link"},m.a.createElement(Se["a"],{alt:gettext("Translated by Google"),width:244,height:32,src:"/staticx/udemy/images/content-l10n/translated-by-google.png"})),m.a.createElement("li",{role:"separator"}),m.a.createElement(We["b"].MenuItem,{onClick:this.goToSettings,"data-purpose":"go-to-settings","aria-haspopup":"menu"},gettext("Caption settings"),m.a.createElement(Ke.a,{label:false,color:"inherit",className:"video-control-bar-dropdown--next-icon--1WFHm"})))}};st.propTypes={captionDisplayStore:p.a.object.isRequired,captionsStore:p.a.object.isRequired,onChangeMenu:p.a.func.isRequired};st=ot([Object(d["e"])("captionDisplayStore","captionsStore"),d["f"]],st);var nt=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let it=class e extends m.a.Component{constructor(){super(...arguments);this.onChangeMenu=()=>{setTimeout((()=>{const e=document.getElementById(this.props.$$udControlBarDropdown.menuId);const t=e===null||e===void 0?void 0:e.querySelectorAll("button,a[href],[tabindex]");if(t!==undefined){const e=t[0];e.focus()}}),0)}}render(){switch(this.props.menuPage){case me["g"].TRACKS:return m.a.createElement(st,{onChangeMenu:this.onChangeMenu});case me["g"].SETTINGS:return m.a.createElement(Je,{onChangeMenu:this.onChangeMenu});case me["g"].FONT_SIZE:return m.a.createElement(et,{onChangeMenu:this.onChangeMenu});case me["g"].OPACITY:return m.a.createElement(rt,{onChangeMenu:this.onChangeMenu})}}};it.propTypes={menuPage:p.a.oneOf(Object.values(me["g"])).isRequired,$$udControlBarDropdown:p.a.object.isRequired};it=nt([Object(d["e"])("$$udControlBarDropdown")],it);let at=class e extends m.a.Component{render(){if(!this.props.captionsStore.captions.length){return null}const e=m.a.createElement(We["b"].Button,{"data-purpose":"captions-dropdown-button",tooltipProps:{a11yRole:"none",children:gettext("Captions")}},m.a.createElement($e.a,{label:gettext("Subtitles"),size:"medium"}));return m.a.createElement(We["b"],{placement:"top-end",isOpen:this.props.captionDisplayStore.isMenuOpen,onToggle:this.props.captionDisplayStore.toggleMenu,trigger:e},m.a.createElement(it,{menuPage:this.props.captionDisplayStore.menuPage}))}};at.propTypes={captionDisplayStore:p.a.object.isRequired,captionsStore:p.a.object.isRequired};at=nt([Object(d["e"])("captionDisplayStore","captionsStore"),d["f"]],at);var lt=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class ct{constructor(e){this.toggleMenu=e=>{if(e){this.openMenu()}else{this.closeMenu()}};this.openMenu=()=>{this.controlBarStore.setMenuOpen(O["b"].PLAYBACK_RATE)};this.closeMenu=()=>{this.controlBarStore.setMenuClosed()};this.controlBarStore=e}get isMenuOpen(){return this.controlBarStore.activeMenu===O["b"].PLAYBACK_RATE}}lt([c["g"]],ct.prototype,"isMenuOpen",null);var dt=r("./src/udemy/js/shaka-video-player/playback-rate/playback-rate.less");var ut=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let pt=class e extends m.a.Component{constructor(e){super(e);this.store=new ct(this.props.controlBarStore)}render(){const{playbackRateStore:e}=this.props.videoPlayerStore;const{availablePlaybackRates:t,playbackRate:r}=e;const o=m.a.createElement(We["b"].Button,{"aria-label":gettext("Playback rate"),"data-purpose":"playback-rate-button",className:"ud-custom-focus-visible playback-rate--trigger--2Gvv7",tooltipProps:{a11yRole:"none",children:gettext("Playback rate")}},m.a.createElement("span",{className:"ud-focus-visible-target playback-rate--trigger-text--2TfYV"},`${r}x`));return m.a.createElement(We["b"],{placement:"top-start",isOpen:this.store.isMenuOpen,onToggle:this.store.toggleMenu,className:"playback-rate--playback-rate--184BD",trigger:o},m.a.createElement(We["b"].Menu,{"data-purpose":"playback-rate-menu",className:"playback-rate--menu--1J8uR"},t.map((t=>m.a.createElement(We["b"].MenuItem,{key:t,onClick:()=>e.choosePlaybackRate(t),"aria-checked":t===r,role:"menuitemradio"},m.a.createElement("span",{className:"ud-text-bold"},`${t}x`))))))}};pt.propTypes={videoPlayerStore:p.a.object.isRequired,controlBarStore:p.a.object.isRequired};pt=ut([Object(d["e"])("videoPlayerStore","controlBarStore"),d["f"]],pt);var ht=r("./node_modules/@udemy/icons/dist/settings.ud-icon");var mt=r.n(ht);var ft=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class vt{constructor(e){this.toggleMenu=e=>{if(e){this.openMenu()}else{this.closeMenu()}};this.openMenu=()=>{this.controlBarStore.setMenuOpen(O["b"].SETTINGS)};this.closeMenu=()=>{this.controlBarStore.setMenuClosed()};this.controlBarStore=e}get isMenuOpen(){return this.controlBarStore.activeMenu===O["b"].SETTINGS}}ft([c["g"]],vt.prototype,"isMenuOpen",null);var yt=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let gt=class e extends m.a.Component{constructor(e){super(e);this.store=new vt(this.props.controlBarStore)}renderResolutionLabel(e,t,r,o){return e===O["a"]&&r&&o?interpolate(gettext("Auto (%(resolution)sp)"),{resolution:o},true):t}render(){const{videoPlayerStore:e}=this.props;const{activeResolution:t,sortedResolutions:r,hlsResolution:o}=e;const s=m.a.createElement(We["b"].Button,{"data-purpose":"settings-button",tooltipProps:{a11yRole:"none",children:gettext("Settings")}},m.a.createElement(mt.a,{label:gettext("Settings"),size:"medium"}));return m.a.createElement(We["b"],{placement:"top-end",isOpen:this.store.isMenuOpen,onToggle:this.store.toggleMenu,trigger:s},m.a.createElement(We["b"].Menu,{"data-purpose":"settings-menu"},m.a.createElement("ul",{className:"ud-unstyled-list",role:"group","aria-label":gettext("Resolution"),"data-purpose":"resolution-menu"},r.map((r=>{let{label:s,displayLabel:n}=r;return m.a.createElement("li",{key:s},m.a.createElement(We["b"].MenuItem,{onClick:()=>e.setResolutionLabel(s),"aria-checked":s===t.label,role:"menuitemradio"},this.renderResolutionLabel(s,n,s===t.label,o)))}))),this.props.children))}};gt.propTypes={controlBarStore:p.a.object.isRequired,videoPlayerStore:p.a.object.isRequired};gt=yt([Object(d["e"])("videoPlayerStore","controlBarStore"),d["f"]],gt);var bt=r("./node_modules/@udemy/icons/dist/volume-off.ud-icon");var Pt=r.n(bt);var St=r("./node_modules/@udemy/icons/dist/volume-on.ud-icon");var Et=r.n(St);var jt=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class wt{constructor(e){this.isOpen=false;this.isDragging=false;this.setOpen=e=>{this.isOpen=e};this.setDragging=e=>{this.isDragging=e};this.volumeStore=e}get displayVolume(){const e=this.volumeStore.isMuted?0:this.volumeStore.volume;return Math.round(100*e)}}jt([c["t"]],wt.prototype,"isOpen",void 0);jt([c["t"]],wt.prototype,"isDragging",void 0);jt([c["e"]],wt.prototype,"setOpen",void 0);jt([c["e"]],wt.prototype,"setDragging",void 0);jt([c["g"]],wt.prototype,"displayVolume",null);var kt=r("./src/udemy/js/shaka-video-player/volume/volume-control.less");const Ot={"./volume-control.less":{"slider-focus-wrapper":"volume-control--slider-focus-wrapper--1UPim",slider:"volume-control--slider--2uSlT","slider-inner":"volume-control--slider-inner--3MBZ0",dragging:"volume-control--dragging--39W90","invisible-unless-focused":"volume-control--invisible-unless-focused--1hBIf","ud-sr-only":"volume-control--ud-sr-only--3kFB1"}};var _t=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let Tt=class e extends m.a.Component{constructor(e){super(e);this.openMenu=()=>{this.store.setOpen(true)};this.closeMenu=()=>{this.store.setOpen(false);this.stopDragging()};this.toggleMuted=()=>{const{isMuted:e}=this.volumeStore;const t=localStorage.getItem("lastVolume");if(e&&t!==0){this.volumeStore.chooseMuted(false);this.volumeStore.chooseVolume(t)}else{this.volumeStore.toggleMuted()}};this.onMouseMove=e=>{if(!this.store.isDragging){return}const t=e.currentTarget.querySelector(`#${this.sliderId}`).getBoundingClientRect();const r=t.height;const o=Math.min(Math.max(0,e.clientY-t.top),r);this.volumeStore.chooseVolume(1-o/r)};this.stopDragging=()=>{const{displayVolume:e}=this.store;if(e!==0){this.lastVolume=this.volumeStore.volume;localStorage.setItem("lastVolume",this.lastVolume);this.volumeStore.chooseMuted(false)}else{this.lastVolume=this.volumeStore.volume;this.volumeStore.chooseMuted(true)}this.store.setDragging(false)};this.startDragging=e=>{this.lastVolume=this.volumeStore.volume;localStorage.setItem("lastVolume",this.lastVolume);this.store.setDragging(true);this.onMouseMove(e);e.preventDefault()};this.onKeyDown=e=>{Object(Pe["b"])((()=>{this.volumeStore.volumeDown(.05);e.preventDefault()}))(e);Object(Pe["f"])((()=>{this.volumeStore.volumeUp(.05);e.preventDefault()}))(e);Object(Pe["d"])((()=>{this.toggleMuted();e.preventDefault()}))(e)};this.store=new wt(e.videoPlayerStore.volumeStore);this.sliderId=Object(Pe["a"])("slider");this.lastVolume=0}get volumeStore(){return this.props.videoPlayerStore.volumeStore}get slider(){const{displayVolume:e,isDragging:t,isOpen:r}=this.store;return m.a.createElement("div",{"data-purpose":"volume-control-bar",role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e,"aria-label":gettext("Volume"),tabIndex:0,onKeyDown:this.onKeyDown,onMouseMove:this.onMouseMove,onMouseDown:this.startDragging,className:$()(l()("slider-focus-wrapper",{dragging:t,"invisible-unless-focused":!r}),Ot)},m.a.createElement("div",{id:this.sliderId,className:"volume-control--slider--2uSlT"},m.a.createElement("div",{className:"volume-control--slider-inner--3MBZ0",style:{transform:`scaleY(${e/100})`}})))}get controlButton(){const{isMuted:e}=this.volumeStore;const{displayVolume:t}=this.store;const r=e?gettext("Unmute"):gettext("Mute");let o=Et.a;if(t===0||e){o=Pt.a}return m.a.createElement(We["a"],{"data-purpose":"volume-control-button",onClick:this.toggleMuted},m.a.createElement(o,{label:r,size:"medium"}))}render(){return m.a.createElement("div",{onMouseEnter:this.openMenu,onMouseLeave:this.closeMenu,onMouseUp:this.stopDragging},this.slider,this.controlButton)}};Tt.propTypes={videoPlayerStore:p.a.object.isRequired};Tt=_t([Object(d["e"])("videoPlayerStore"),d["f"]],Tt);var Rt=r("./node_modules/@udemy/icons/dist/reload.ud-icon");var Ct=r.n(Rt);var xt=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let Dt=class e extends m.a.Component{render(){const e=ninterpolate("Forward %(seconds)s second","Forward %(seconds)s seconds",O["r"],{seconds:O["r"]});const t=interpolate(gettext("Forward %(seconds)ss"),{seconds:O["r"]},true);return m.a.createElement(We["a"],{"data-purpose":"forward-skip-button",tooltipProps:{a11yRole:"none",children:t},onClick:this.props.videoPlayerStore.seekForward},m.a.createElement(Ct.a,{label:e,size:"medium"}))}};Dt.propTypes={videoPlayerStore:p.a.object.isRequired};Dt=xt([Object(d["e"])("videoPlayerStore")],Dt);var Mt=r("./node_modules/@udemy/icons/dist/collapse-diagonal.ud-icon");var It=r.n(Mt);var Nt=r("./node_modules/@udemy/icons/dist/expand-diagonal.ud-icon");var Ft=r.n(Nt);var Bt=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let Lt=class e extends m.a.Component{constructor(){super(...arguments);this.handleToggleFullscreen=e=>{this.props.fullscreenStore.toggleFullscreen();e.currentTarget.blur()}}render(){const{isFullscreen:e}=this.props.fullscreenStore;const t=e?gettext("Exit fullscreen"):gettext("Fullscreen");const r=e?It.a:Ft.a;return m.a.createElement(We["a"],{tooltipProps:{a11yRole:"none",children:t},onClick:this.handleToggleFullscreen},m.a.createElement(r,{label:t,size:"medium"}))}};Lt.propTypes={fullscreenStore:p.a.shape({toggleFullscreen:p.a.func,isFullscreen:p.a.bool}).isRequired};Lt=Bt([Object(d["e"])("fullscreenStore"),d["f"]],Lt);var At=r("./node_modules/@udemy/icons/dist/pause.ud-icon");var Ut=r.n(At);var Vt=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let Ht=class e extends m.a.Component{constructor(){super(...arguments);this.onTogglePlay=()=>{const{isPlaying:e,onPlayPause:t}=this.props.getControlBarProps();t(!e)}}render(){const{isPlaying:e}=this.props.getControlBarProps();const t=e?gettext("Pause"):gettext("Play");const r=e?Ut.a:s.a;return m.a.createElement(We["a"],{"data-purpose":e?"pause-button":"play-button",tooltipProps:{a11yRole:"none",children:t},onClick:this.onTogglePlay},m.a.createElement(r,{label:t,size:"medium"}))}};Ht.propTypes={getControlBarProps:p.a.func.isRequired};Ht=Vt([Object(d["e"])("getControlBarProps")],Ht);var zt=r("./node_modules/@udemy/react-date-time-components/dist/esm/duration/duration.react-component.js");var $t=r("./src/udemy/js/shaka-video-player/control-bar/progress-display.less");var Wt=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let qt=class e extends m.a.Component{render(){const e=Object(zt["b"])({numSeconds:this.props.progressBarStore.progressBarTime,presentationStyle:zt["a"].STYLE.TIMESTAMP,precision:zt["a"].PRECISION.MINUTES},{gettext:gettext,interpolate:interpolate});const t=Object(zt["b"])({numSeconds:this.props.progressBarStore.videoDuration,presentationStyle:zt["a"].STYLE.TIMESTAMP,precision:zt["a"].PRECISION.MINUTES},{gettext:gettext,interpolate:interpolate});return m.a.createElement("div",{className:"ud-heading-sm progress-display--progress-display--wMlJV"},m.a.createElement("div",{"data-purpose":"progress-display"},m.a.createElement("span",{"data-purpose":"current-time"},e),m.a.createElement("span",null," / "),m.a.createElement("span",{"data-purpose":"duration"},t)),m.a.createElement("div",{"aria-hidden":true,className:"progress-display--progress-display-spacer--1fpgb"},m.a.createElement("span",null,e.replace(/\d/g,"4")),m.a.createElement("span",null," / "),m.a.createElement("span",null,t.replace(/\d/g,"4"))))}};qt.propTypes={progressBarStore:p.a.object.isRequired};qt=Wt([Object(d["e"])("progressBarStore"),d["f"]],qt);var Kt=r("./node_modules/@udemy/icons/dist/rewind.ud-icon");var Gt=r.n(Kt);var Yt=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let Xt=class e extends m.a.Component{render(){const e=ninterpolate("Rewind %(seconds)s second","Rewind %(seconds)s seconds",O["r"],{seconds:O["r"]});const t=interpolate(gettext("Rewind %(seconds)ss"),{seconds:O["r"]},true);return m.a.createElement(We["a"],{"data-purpose":"rewind-skip-button",tooltipProps:{a11yRole:"none",children:t},onClick:this.props.videoPlayerStore.seekBack},m.a.createElement(Gt.a,{label:e,size:"medium"}))}};Xt.propTypes={videoPlayerStore:p.a.object.isRequired};Xt=Yt([Object(d["e"])("videoPlayerStore")],Xt);var Qt=r("./src/udemy/js/shaka-video-player/control-bar/shaka-control-bar.less");const Jt=()=>m.a.createElement("div",{className:"shaka-control-bar--spacer--3mDmv"});var Zt=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};let er=class e extends m.a.Component{constructor(e){super(e);this.setRef=e=>{this.ref=e};this.getControlBarProps=()=>({isPlaying:this.props.isPlaying,onPlayPause:this.props.onPlayPause});Object(c["D"])((()=>this.ref&&this.props.userActivityStore),(()=>{this.props.userActivityStore.addHideOnInactive(this.ref);this.props.userActivityStore.addActiveOnHover(this.ref)}))}get defaultControls(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(Ht,null),m.a.createElement(Xt,null),m.a.createElement(pt,null),m.a.createElement(Dt,null),m.a.createElement(qt,null),m.a.createElement(Jt,null),m.a.createElement(Tt,null),m.a.createElement(at,null),m.a.createElement(gt,null),m.a.createElement(Lt,null))}render(){var e,t;const r=this.props.container;const o=`${(e=this.props.container)===null||e===void 0?void 0:e.id.replace("video","control-bar")}`;const s=`${o}-popover-area`;const n=m.a.createElement("div",{id:o,className:"shaka-control-bar--control-bar-wrapper--3WOBk","data-purpose":"video-control-bar"},m.a.createElement("div",{id:s,className:"video-popover-area shaka-control-bar--popover-area--1vJ7p",ref:this.props.progressBarStore.setPopoverAreaRef}),m.a.createElement("div",{className:"shaka-control-bar--control-bar-container--3_1nq",ref:this.setRef},m.a.createElement(He,{progressBarStore:this.props.progressBarStore}),m.a.createElement(d["c"],{getControlBarProps:this.getControlBarProps},m.a.createElement("div",{className:"shaka-control-bar--control-bar--3DGdd","data-purpose":"video-controls"},(t=this.props.children)!==null&&t!==void 0?t:this.defaultControls))));return q.a.createPortal(n,r)}};er.defaultProps={userActivityStore:null,container:null};er.propTypes={progressBarStore:p.a.object.isRequired,userActivityStore:p.a.object,player:p.a.object.isRequired,isPlaying:p.a.bool.isRequired,onPlayPause:p.a.func.isRequired,container:p.a.object};Zt([c["t"].ref],er.prototype,"ref",void 0);Zt([c["e"]],er.prototype,"setRef",void 0);er=Zt([Object(d["e"])("progressBarStore","userActivityStore"),d["f"]],er);var tr=r("./src/udemy/js/shaka-video-player/error-display.react-component.tsx");var rr=r("./src/udemy/js/shaka-video-player/feedback/video-feedback.less");const or=300;class sr extends m.a.Component{render(){const{icon:e}=this.props;return m.a.createElement("div",{className:"video-feedback--container--Ca3t_"},m.a.createElement("div",{className:"video-feedback--circle--13wRA"},m.a.createElement(e,{label:false,color:"inherit",size:"xxlarge"})))}}sr.propTypes={icon:p.a.elementType.isRequired};var nr=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};const ir=e=>m.a.createElement(s.a,Object.assign({},e,{className:"video-feedback--play-icon--2GUai"}));let ar=class e extends m.a.Component{componentDidUpdate(e){if(e.isPlaying!==this.props.isPlaying){this.showFeedback(this.props.isPlaying)}}showFeedback(e){clearTimeout(this.iconTimeout);this.Icon=e?ir:Ut.a;this.iconTimeout=setTimeout(Object(c["e"])((()=>{this.Icon=null})),or)}render(){return this.Icon?m.a.createElement(sr,{icon:this.Icon}):null}};ar.propTypes={isPlaying:p.a.bool.isRequired};nr([c["t"].ref],ar.prototype,"Icon",void 0);nr([c["e"]],ar.prototype,"showFeedback",null);ar=nr([d["f"]],ar);var lr=r("./src/udemy/js/shaka-video-player/progress-bar/shaka-progress-bar.mobx-store.ts");var cr=r("./node_modules/@mux/mux-data-shakaplayer/dist/shakaplayer-mux.js");var dr=r.n(cr);var ur=r("./node_modules/@udemy/event-tracking/dist/esm/tracker/tracker.js");var pr=r("./node_modules/mux.js/dist/mux.js");var hr=r.n(pr);var mr=r("./node_modules/shaka-player/dist/shaka-player.ui.js");var fr=r.n(mr);var vr=r("./node_modules/uuid/index.js");var yr=r("./src/udemy/js/utils/browser-log-collection.js");var gr=r("./src/udemy/js/shaka-video-player/drm.ts");var br=r("./node_modules/@udemy/event-tracking/dist/esm/tracker/event-common.js");class Pr extends br["a"]{constructor(e){let{previousResolution:t,videoPlayerData:r}=e;super("AdaptiveStreamingQualityChangeEvent");this.previousResolution=t;this.videoPlayerData=r}}var Sr=r("./node_modules/js-cookie/src/js.cookie.js");var Er=r.n(Sr);function jr(e){return Er.a.get(e)}function wr(e,t){Er.a.set(e,t,{expires:30,path:"/"})}function kr(e){return Er.a.remove(e)}const Or=1;const _r=Object.freeze([.5,.75,1,1.25,1.5,1.75,2]);const Tr="playbackspeed";var Rr=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class Cr{constructor(){this.availablePlaybackRates=_r;this.choosePlaybackRate=e=>{if(e&&e!==this.playbackRate){this.chosenPlaybackRate=e;this.videoElement.playbackRate=e;wr(Tr,e)}};this.speedDown=()=>{const e=this.availablePlaybackRates.indexOf(this.playbackRate);const t=this.availablePlaybackRates.slice()[e-1];this.choosePlaybackRate(t)};this.speedUp=()=>{const e=this.availablePlaybackRates.indexOf(this.playbackRate);const t=this.availablePlaybackRates.slice()[e+1];this.choosePlaybackRate(t)}}setPlaybackRateOnPlay(e){e.addEventListener("play",(()=>{e.playbackRate=this.playbackRate}))}attachPlaybackRateStore(e){this.videoElement=e;this.setPlaybackRateOnPlay(e)}get playbackRate(){var e;const t=(e=this.chosenPlaybackRate)!==null&&e!==void 0?e:this.savedPlaybackRate;if(this.availablePlaybackRates.includes(t)){return t}return Or}get savedPlaybackRate(){return parseFloat(jr(Tr))}}Rr([c["t"].ref],Cr.prototype,"videoElement",void 0);Rr([c["t"]],Cr.prototype,"availablePlaybackRates",void 0);Rr([c["t"]],Cr.prototype,"chosenPlaybackRate",void 0);Rr([c["e"]],Cr.prototype,"setPlaybackRateOnPlay",null);Rr([c["e"]],Cr.prototype,"attachPlaybackRateStore",null);Rr([c["e"]],Cr.prototype,"choosePlaybackRate",void 0);Rr([c["g"]],Cr.prototype,"playbackRate",null);Rr([c["e"]],Cr.prototype,"speedDown",void 0);Rr([c["e"]],Cr.prototype,"speedUp",void 0);const xr="quality_general";const Dr=1;const Mr=1;const Ir=0;const Nr=.1;const Fr="volume";const Br="mute";var Lr=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class Ar{constructor(e){var t=this;let r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.chooseVolume=e=>{if(!this.isEnabled){return}const t=this.normalizeVolume(e);this._chosenVolume=t;this.player.volume=t;wr(Fr,t);this.chooseMuted(false)};this.volumeUp=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Nr;t.chooseVolume(t.volume+e)};this.volumeDown=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Nr;t.chooseVolume(t.volume-e)};this.chooseMuted=e=>{if(!this.isEnabled){return}this._chosenIsMuted=e;this.player.muted=e;wr(Br,e?"1":0)};this.toggleMuted=()=>{this.chooseMuted(!this.isMuted)};this.isDefaultMuted=e;this.prioritizeDefaultMuted=r;this._chosenVolume=jr(Fr);this._chosenIsMuted=jr(Br)}setup(e){this.player=e;e.volume=this.volume;e.muted=this.isMuted}get volume(){function e(e){return typeof e==="number"&&!isNaN(e)&&e!==Infinity}const t=[this._chosenVolume,this.savedVolume,Dr].find(e);return this.normalizeVolume(t)}get savedVolume(){return parseFloat(jr(Fr))}normalizeVolume(e){const t=Math.min(Math.max(e,Ir),Mr);return Math.round(100*t)/100}get isMuted(){function e(e){return typeof e==="boolean"}if(e(this._chosenIsMuted)){return this._chosenIsMuted}return this.prioritizeDefaultMuted?this.isDefaultMuted:[this.savedIsMuted,this.isDefaultMuted].find(e)}get savedIsMuted(){const e=new Map([[0,false],[1,true]]);const t=jr(Br);return e.get(t)}get isEnabled(){return this.player}}Lr([c["t"]],Ar.prototype,"_chosenVolume",void 0);Lr([c["t"]],Ar.prototype,"_chosenIsMuted",void 0);Lr([c["e"]],Ar.prototype,"setup",null);Lr([c["g"]],Ar.prototype,"volume",null);Lr([c["e"]],Ar.prototype,"chooseVolume",void 0);Lr([c["e"]],Ar.prototype,"volumeUp",void 0);Lr([c["e"]],Ar.prototype,"volumeDown",void 0);Lr([c["g"]],Ar.prototype,"isMuted",null);Lr([c["e"]],Ar.prototype,"chooseMuted",void 0);var Ur=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};var Vr=undefined&&undefined.__awaiter||function(e,t,r,o){function s(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,n){function i(e){try{l(o.next(e))}catch(e){n(e)}}function a(e){try{l(o["throw"](e))}catch(e){n(e)}}function l(e){e.done?r(e.value):s(e.value).then(i,a)}l((o=o.apply(e,t||[])).next())}))};const Hr=fr.a.Player;const zr=fr.a.ui;const $r=new RegExp(/^[0-9]+$/);const Wr={[O["a"]]:"Auto",audio:"Audio"};const qr=new yr["a"]("videoplayer");class Kr{constructor(e,t,r,o,s,n,i,a,l,d){this.videojsSetupData={};this.numErrors=0;this.numPlaylistRetries=0;this.position=-1;this.lastPosition=-1;this.waitingToLoad=false;this.shakaPlayerMux=null;this.playItem=null;this.isSeeking=false;this.isSourceReady=false;this.currentTime_=0;this.isErrorVisible=false;this.errorBody="";this.errorFooter="";this.isUsingNativeControlss=false;this.uaParser=new ce.a;this.bandwidthWatermarks={};this.hideError=()=>{this.errorBody="";this.errorFooter="";this.isErrorVisible=false};this.getFairPlayServiceCertificate=()=>Vr(this,void 0,void 0,(function*(){try{const e=yield fetch(O["g"]);const t=yield e.arrayBuffer();return new Uint8Array(t)}catch(e){return null}}));this._createNativeVideoPlayerControls=()=>{const e=document.getElementById(`shaka-video-container-${this.assetId}`);const t=new zr.Overlay(this._videoPlayer,e,this.videoElement);const r={controlPanelElements:["play_pause","spacer","time_and_duration","volume","mute","picture_in_picture","fullscreen","captions"]};t.configure(r);t.setEnabled(true)};this._createVideoPlayerConfigurationForNonEncryptedSources=()=>{var e;(e=this._videoPlayer)===null||e===void 0?void 0:e.configure({abr:{restrictToElementSize:true},streaming:{useNativeHlsOnSafari:false,bufferingGoal:60}})};this._createVideoPlayerConfigurationForFairPlay=()=>Vr(this,void 0,void 0,(function*(){var e,t,r,o,s,n,i;const a=yield this.getFairPlayServiceCertificate();if(!a){return}(e=this._videoPlayer)===null||e===void 0?void 0:e.configure("drm.servers.com\\.apple\\.fps\\.1_0",Object(gr["g"])("fairplay",this.mediaLicenseToken));(t=this._videoPlayer)===null||t===void 0?void 0:t.configure("drm.advanced.com\\.apple\\.fps\\.1_0.serverCertificate",a);let l="";(r=this._videoPlayer)===null||r===void 0?void 0:r.configure({abr:{restrictToElementSize:true},drm:{servers:{[gr["b"]]:Object(gr["g"])("fairplay",this.mediaLicenseToken)},initDataTransform:e=>{var t,r;l=fr.a.util.FairPlayUtils.defaultGetContentId(e);const o=(r=(t=this._videoPlayer)===null||t===void 0?void 0:t.drmInfo())===null||r===void 0?void 0:r.serverCertificate;return fr.a.util.FairPlayUtils.initDataTransform(e,l,o)}},streaming:{bufferingGoal:60}});(s=(o=this._videoPlayer)===null||o===void 0?void 0:o.getNetworkingEngine())===null||s===void 0?void 0:s.registerRequestFilter(((e,t)=>{if(e==fr.a.net.NetworkingEngine.RequestType.LICENSE){t.headers["Content-Type"]="text/plain";const e=new Uint8Array(t.body);const r=fr.a.util.Uint8ArrayUtils.toStandardBase64(e);const o=`spc=${r}&assetId=${l}`;t.body=fr.a.util.StringUtils.toUTF8(o)}}));(i=(n=this._videoPlayer)===null||n===void 0?void 0:n.getNetworkingEngine())===null||i===void 0?void 0:i.registerResponseFilter(((e,t)=>{if(e==fr.a.net.NetworkingEngine.RequestType.LICENSE){let e=fr.a.util.StringUtils.fromUTF8(t.data);e=e.trim();t.data=fr.a.util.Uint8ArrayUtils.fromBase64(e).buffer}}))}));this._createVideoPlayerConfigurationForWideVine=()=>{var e,t,r;(e=this._videoPlayer)===null||e===void 0?void 0:e.configure({abr:{restrictToElementSize:true},drm:{servers:{[gr["e"]]:Object(gr["g"])("widevine",this.mediaLicenseToken)},advanced:{WIDEVINE_KEY_SYSTEM:{videoRobustness:"SW_SECURE_CRYPTO",audioRobustness:"SW_SECURE_CRYPTO"}}},streaming:{bufferingGoal:60}});(r=(t=this._videoPlayer)===null||t===void 0?void 0:t.getNetworkingEngine())===null||r===void 0?void 0:r.registerRequestFilter((function(e,t){if(e==fr.a.net.NetworkingEngine.RequestType.LICENSE){t.headers["Content-type"]="application/octet-stream";t.responseType="arraybuffer"}}))};this._createVideoPlayerConfigurationForPlayReady=()=>{var e,t,r;(e=this._videoPlayer)===null||e===void 0?void 0:e.configure({abr:{restrictToElementSize:true},drm:{servers:{[gr["d"]]:Object(gr["g"])("playready",this.mediaLicenseToken)}},streaming:{bufferingGoal:60}});(r=(t=this._videoPlayer)===null||t===void 0?void 0:t.getNetworkingEngine())===null||r===void 0?void 0:r.registerRequestFilter((function(e,t){if(e==fr.a.net.NetworkingEngine.RequestType.LICENSE){t.headers["Content-type"]="application/octet-stream";t.responseType="arraybuffer"}}))};this._createVideoPlayerConfiguration=()=>Vr(this,void 0,void 0,(function*(){if(!this.mediaLicenseToken){this._createVideoPlayerConfigurationForNonEncryptedSources();return}const e=yield Object(gr["h"])(gr["e"],gr["a"]);qr.info("XXX isWidevineSupported = ",e);if(e){this._createVideoPlayerConfigurationForWideVine();return}const t=yield Object(gr["h"])(gr["b"],gr["c"]);qr.info("XXX isFairPlaySupported = ",t);if(t){yield this._createVideoPlayerConfigurationForFairPlay();return}const r=yield Object(gr["h"])(gr["d"],gr["a"]);qr.info("XXX isPlayReadySupported = ",r);if(r){this._createVideoPlayerConfigurationForPlayReady();return}this._createVideoPlayerConfigurationForWideVine()}));this.destroyVideoPlayer=()=>{if(this._videoPlayer){this._videoPlayer.destroy();this._videoPlayer.mux.destroy()}};this._initActiveResolution=()=>{Object(c["v"])((()=>JSON.stringify(this.activeResolution)),(()=>this._updatePlayerResolution(this.activeResolution.sources,this.currentResolutionSources)),{fireImmediately:true})};this._onHlsLevelSwitch=(e,t)=>{this._setHlsResolution(t.resolution)};this._setAdaptiveQualityLevels=()=>{var e,t;let r=(e=this._videoPlayer)===null||e===void 0?void 0:e.getVariantTracks();const o=r===null||r===void 0?void 0:r.find((e=>e.active));if(o){r=r===null||r===void 0?void 0:r.filter((e=>e.language==o.language&&e.channelsCount==o.channelsCount))}r=r===null||r===void 0?void 0:r.filter(((e,t)=>{var o;const s=((o=this._videoPlayer)===null||o===void 0?void 0:o.isAudioOnly())?r===null||r===void 0?void 0:r.findIndex((t=>t.bandwidth==e.bandwidth)):r===null||r===void 0?void 0:r.findIndex((t=>t.height==e.height));return s==t}));if((t=this._videoPlayer)===null||t===void 0?void 0:t.isAudioOnly()){r===null||r===void 0?void 0:r.sort(((e,t)=>t.bandwidth-e.bandwidth))}else{r===null||r===void 0?void 0:r.sort(((e,t)=>t.height-e.height))}this.adaptiveQualityLevels=r};this.handleVideoProgress=e=>{const t=Math.ceil(this.currentTime_/this.videoProgressInterval);if(this.lastPosition===t||t<=0){return}this.lastPosition=t;const r=e.type==="ended"?this.duration_:Math.min(t*this.videoProgressInterval,this.duration_);const o={total:Math.floor(this.duration_),position:Math.floor(r)};this.onVideoProgress(e,o)};this.handleTimeUpdate=()=>{var e,t;this.currentTime_=(t=(e=this._videoPlayer)===null||e===void 0?void 0:e.getMediaElement().currentTime)!==null&&t!==void 0?t:0;this.onTimeUpdate(this.currentTime_)};this.setResolutionLabel=e=>{this.selectedResolutionLabel=e;wr(xr,this.selectedResolutionLabel)};this._updatePlayerResolution=(e,t)=>{var r,o,s,n;qr.info("XXX shaka resolutionSources = ",e);this.currentResolutionSources=e;this.hlsResolution=null;const i=this.videoElement;if(i.preload==="none"){i.preload="metadata"}if(JSON.stringify(e)!==JSON.stringify(t)){const e=this.mediaSources.find((e=>e.type==="application/x-mpegURL"));const t=this.mediaSources.find((e=>e.type==="application/dash+xml"));this.playItem=this.mediaSources[0];qr.info("this.mediaSources = ",this.mediaSources);if(this.mediaLicenseToken){const r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);if(r&&e){qr.info("this.playItem = hlsItem");this.playItem=e}else if(!r&&t){qr.info("this.playItem = drmItem");this.playItem=t}}else if(e){this.playItem=e;qr.info("this.playItem = hlsItem")}else{qr.info("this.playItem = MP4")}}if(this.supportsAdaptiveFixedResolutions&&this.adaptiveQualityLevels&&this.adaptiveQualityLevels.length){this._updateEnabledQualityLevels();if(this.activeResolution.label!="auto"){(r=this._videoPlayer)===null||r===void 0?void 0:r.configure("abr.enabled",false);const e=(o=this._videoPlayer)===null||o===void 0?void 0:o.getVariantTracks().filter((e=>e.height==this.activeResolution.label))[0];(s=this._videoPlayer)===null||s===void 0?void 0:s.selectVariantTrack(e)}else{(n=this._videoPlayer)===null||n===void 0?void 0:n.configure("abr.enabled",true)}}};this.loadPlayItem=()=>{var e;(e=this._videoPlayer)===null||e===void 0?void 0:e.load(this.playItem.src).then(E["a"]).catch(E["a"])};this.setPlayerHeight=e=>{this.playerHeight=e.height};this.seekBack=()=>{this.videoElement.currentTime=Math.max(0,this.videoElement.currentTime-O["r"])};this.seekForward=()=>{this.videoElement.currentTime=this.videoElement.currentTime+O["r"]};window.muxjs=hr.a;this.sessionId=Object(vr["v4"])();this.playbackRateStore=new Cr;this.volumeStore=new Ar(l,d);this.videojsSetupData=e;this.playerId=t;this.trackingTag=o;this.assetId=s;this.onVideoProgress=n;this.videoProgressInterval=i;this.onTimeUpdate=a;this.setDuration(r);this.currentTime_=0}setMediaSources(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;this.mediaSources=e;this.mediaLicenseToken=t}showError(e){this.errorBody=(e===null||e===void 0?void 0:e.body)||"";this.errorFooter=(e===null||e===void 0?void 0:e.footer)||"";this.isErrorVisible=true}createVideoPlayer(e){var t,r,o,s;return Vr(this,void 0,void 0,(function*(){const n=new ce.a;const i=((r=(t=n===null||n===void 0?void 0:n.getBrowser())===null||t===void 0?void 0:t.name)===null||r===void 0?void 0:r.toLowerCase())==="safari"||((s=(o=n===null||n===void 0?void 0:n.getOS())===null||o===void 0?void 0:o.name)===null||s===void 0?void 0:s.toLowerCase())==="ios";if(i){fr.a.polyfill.installAll();fr.a.polyfill.PatchedMediaKeysApple.install()}this.videoElement=e;this._videoPlayer=new Hr(this.videoElement);this._useNativeControlsForMobile();yield this._createVideoPlayerConfiguration();this.videoElement.addEventListener("durationchange",(e=>{var t;if((t=e===null||e===void 0?void 0:e.target)===null||t===void 0?void 0:t.duration){this.setDuration(e.target.duration)}}));this._videoPlayer.addEventListener("adaptation",(e=>{var t;this._setHlsResolution((t=e===null||e===void 0?void 0:e.data)===null||t===void 0?void 0:t.resolution)}));this.playbackRateStore.attachPlaybackRateStore(this.videoElement);this.volumeStore.setup(this.videoElement);this.shakaPlayerMux=dr()(this._videoPlayer,this.videojsSetupData,fr.a);this._initActiveResolution();return this._videoPlayer}))}_useNativeControlsForMobile(){if(pe.isMobile){this._createNativeVideoPlayerControls();this.isUsingNativeControlss=true}}_updateEnabledQualityLevels(){Array.prototype.forEach.call(this.adaptiveQualityLevels,(e=>{e.enabled=this.activeResolution.label===O["a"]||e.height==this.activeResolution.label}))}get isAdaptive(){if(this.activeResolution){return this.activeResolution.label===O["a"]}}el_(){return document.getElementById(this.playerId)}duration(){return this.duration_}currentTime(e){if(e!==undefined){this.videoElement.currentTime=e}else{return this.currentTime_}}on(e,t){this.videoElement.addEventListener(e,t)}handleVideoError(e){if(e.code===undefined){return}if(e.code===MediaError.MEDIA_ERR_ABORTED){return}const t=5;const r=this.numErrors<t&&this.numPlaylistRetries<=2;if(r&&e.code===MediaError.MEDIA_ERR_NETWORK){this._retry(e)}else if(r&&e.code===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED){this._retry(e)}else{this.showError(e.message?{body:e.message.errorBody,footer:e.message.errorFooter}:null);if(this.numPlaylistRetries>2){}this._logErrorWithHttpStatus(e,"videoplayer.error.retry")}}get adaptiveSourceTypes(){return[O["m"],O["c"]]}get adaptiveSources(){return this.mediaSources.filter((e=>this.adaptiveSourceTypes.includes(e.type))).map((e=>{let{type:t,src:r}=e;if(this.mediaLicenseToken){return{type:t,src:r,keySystems:Object(gr["f"])(this.mediaLicenseToken)}}return{type:t,src:r}}))}get supportsMSE(){if(window.MediaSource||window.WebKitMediaSource){return true}for(const e of this.adaptiveSourceTypes){if(this.videoElement.canPlayType(e)){return true}}return false}get supportsAdaptiveFixedResolutions(){return this.adaptiveSources.length&&this.supportsMSE}get adaptiveResolutions(){const e={auto:{label:O["a"],displayLabel:this._getResolutionDisplayLabel({label:O["a"]}),sources:this.adaptiveSources}};return Array.prototype.reduce.call(this.adaptiveQualityLevels,((e,t)=>{if(typeof e[t.height]==="undefined"){e[t.height]={label:t.height.toString(),displayLabel:this._getResolutionDisplayLabel({label:t.height}),sources:this.adaptiveSources}}return e}),e)}get resolutions(){var e;if(!this.mediaSources){return{}}if(this.supportsAdaptiveFixedResolutions){if((e=this.adaptiveQualityLevels)===null||e===void 0?void 0:e.length){return this.adaptiveResolutions}return[{label:O["a"],displayLabel:Wr[O["a"]],sources:this.adaptiveSources}]}return this.mediaSources.reduce(((e,t)=>{if(t.label===O["a"]&&!this.supportsMSE){return e}if(typeof e[t.label]==="undefined"){e[t.label]={label:t.label,displayLabel:this._getResolutionDisplayLabel(t),sources:[]}}if(this.mediaLicenseToken){e[t.label].sources.push({type:t.type,src:t.src,keySystems:Object(gr["f"])(this.mediaLicenseToken)})}else{e[t.label].sources.push({type:t.type,src:t.src})}return e}),{})}get sortedResolutions(){let e={numericLabels:[],stringLabels:[]};e=Object.values(this.resolutions).reduce(((e,t)=>{const r=parseInt(t.label,10);if(Number.isNaN(r)){e.stringLabels.push(t)}else{e.numericLabels.push(t)}return e}),{numericLabels:[],stringLabels:[]});e.numericLabels.sort(((e,t)=>t.label-e.label));e.stringLabels.sort(((e,t)=>e.label.localeCompare(t.label)));return e.numericLabels.concat(e.stringLabels)}get activeResolution(){if(Object.keys(this.resolutions).length===0){return}let e;const t=jr(xr);if(this.selectedResolutionLabel){e=this.selectedResolutionLabel}else if(t){e=t}else{e=O["f"]}if(typeof this.resolutions[e]!=="undefined"){return this.resolutions[e]}return this.sortedResolutions[0]}_setHlsResolution(e){const t=this.hlsResolution;this.hlsResolution=e;if(this.activeResolution.label===O["a"]){this._publishAdaptiveStreamingQualityChangeEvent(t)}}_getResolutionDisplayLabel(e){if(e.label in Wr){return Wr[e.label]}return $r.test(e.label)?`${e.label}p`:e.label}get isUsingNativeControls(){return this._videoPlayer&&this.isUsingNativeControlss}_publishAdaptiveStreamingQualityChangeEvent(e){const t={previousResolution:e,videoPlayerData:D(this)};ur["a"].publishEvent(new Pr(t))}_logErrorWithHttpStatus(e,t){}_logError(e,t){t=t||"videoplayer.error";const r=N(this,e);qr.error(t,r)}_retry(e){this.numErrors+=1;setTimeout((()=>{if(!this._videoPlayer||!this.videoElement){}}),500*this.numErrors*this.numErrors);this._logErrorWithHttpStatus(e,"videoplayer.error.retry")}setDuration(e){this.duration_=e}get isPlaying(){return this._videoPlayer?this._videoPlayer.isInProgress:false}setSeeking(e){this.isSeeking=e}setIsSourceReady(e){this.isSourceReady=e}}Ur([c["t"]],Kr.prototype,"playItem",void 0);Ur([c["t"]],Kr.prototype,"isSeeking",void 0);Ur([c["t"]],Kr.prototype,"isSourceReady",void 0);Ur([c["t"]],Kr.prototype,"currentTime_",void 0);Ur([c["t"]],Kr.prototype,"isErrorVisible",void 0);Ur([c["t"]],Kr.prototype,"errorBody",void 0);Ur([c["t"]],Kr.prototype,"errorFooter",void 0);Ur([c["t"]],Kr.prototype,"duration_",void 0);Ur([c["t"]],Kr.prototype,"playerHeight",void 0);Ur([c["t"]],Kr.prototype,"isUsingNativeControlss",void 0);Ur([c["t"].ref],Kr.prototype,"mediaSources",void 0);Ur([c["t"]],Kr.prototype,"mediaLicenseToken",void 0);Ur([c["t"]],Kr.prototype,"hlsResolution",void 0);Ur([c["t"]],Kr.prototype,"selectedResolutionLabel",void 0);Ur([c["t"].ref],Kr.prototype,"adaptiveQualityLevels",void 0);Ur([c["e"]],Kr.prototype,"setMediaSources",null);Ur([c["e"]],Kr.prototype,"showError",null);Ur([c["e"]],Kr.prototype,"hideError",void 0);Ur([c["e"]],Kr.prototype,"_useNativeControlsForMobile",null);Ur([c["e"]],Kr.prototype,"_setAdaptiveQualityLevels",void 0);Ur([c["g"]],Kr.prototype,"isAdaptive",null);Ur([c["e"]],Kr.prototype,"handleTimeUpdate",void 0);Ur([c["g"]],Kr.prototype,"adaptiveSourceTypes",null);Ur([c["g"]],Kr.prototype,"adaptiveSources",null);Ur([c["g"]],Kr.prototype,"supportsMSE",null);Ur([c["g"]],Kr.prototype,"supportsAdaptiveFixedResolutions",null);Ur([c["g"]],Kr.prototype,"adaptiveResolutions",null);Ur([c["g"]],Kr.prototype,"resolutions",null);Ur([c["g"]],Kr.prototype,"sortedResolutions",null);Ur([c["e"]],Kr.prototype,"setResolutionLabel",void 0);Ur([c["g"]],Kr.prototype,"activeResolution",null);Ur([c["e"]],Kr.prototype,"_setHlsResolution",null);Ur([c["e"]],Kr.prototype,"_updatePlayerResolution",void 0);Ur([c["e"]],Kr.prototype,"loadPlayItem",void 0);Ur([c["e"]],Kr.prototype,"setPlayerHeight",void 0);Ur([c["e"]],Kr.prototype,"setDuration",null);Ur([c["e"]],Kr.prototype,"setSeeking",null);Ur([c["e"]],Kr.prototype,"setIsSourceReady",null);var Gr=r("./src/udemy/js/shaka-video-player/user-activity.less");var Yr=r.n(Gr);var Xr=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};class Qr{constructor(){this.isUserActive=true;this.isInitialActivationComplete=false;this.activityOverride=false;this.setActive=()=>{this.isUserActive=true};this.setInactive=()=>{if(this.activityOverride||this.controlBarStore&&this.controlBarStore.activeMenu!==O["b"].NONE){return}this.isUserActive=false};this.setActiveOn=()=>{this.activityOverride=true;this.setActive()};this.unsetActiveOn=()=>{this.activityOverride=false}}setControlBarStore(e){this.controlBarStore=e}setupPlayerListeners(e){e.addEventListener("useractive",this.setActive);e.addEventListener("userinactive",this.setInactive);setTimeout(Object(c["e"])((()=>{this.isInitialActivationComplete=true})),O["e"]+500)}addActiveOnHover(e){if(e){e.addEventListener("mouseover",this.setActive);e.addEventListener("mouseout",this.setInactive)}}addHideOnInactive(e){if(e){e.classList.add(Yr.a["hide-when-user-inactive"])}}}Xr([c["t"]],Qr.prototype,"isUserActive",void 0);Xr([c["t"]],Qr.prototype,"isInitialActivationComplete",void 0);Xr([c["e"]],Qr.prototype,"setActive",void 0);Xr([c["e"]],Qr.prototype,"setInactive",void 0);var Jr=r("./src/udemy/js/shaka-video-player/video-player.less");var Zr=r.n(Jr);r.d(t,"a",(function(){return so}));var eo=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};var to=undefined&&undefined.__awaiter||function(e,t,r,o){function s(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,n){function i(e){try{l(o.next(e))}catch(e){n(e)}}function a(e){try{l(o["throw"](e))}catch(e){n(e)}}function l(e){e.done?r(e.value):s(e.value).then(i,a)}l((o=o.apply(e,t||[])).next())}))};const ro=Object(b["a"])();const oo=Object(P["a"])();let so=class e extends h["Component"]{constructor(e){var t;super(e);t=this;this.hasPlayed=false;this.isVideoPlayerInitialized=false;this.postInitSetupComplete=false;this.setupPlayerEvents=()=>{this.videoPlayer.addEventListener("error",(e=>{this.store.shakaPlayerMux.loadErrorHandler(`Error code: ${e.detail.code}, error details: ${e.detail}`)}));this.videoPlayer.addEventListener("loading",(()=>{this.store.setSeeking(true);this.store.setIsSourceReady(false)}));this.videoPlayer.addEventListener("loaded",(()=>{this.store.setSeeking(false);this.store.setIsSourceReady(true);this.postInitSetUp()}));this.videoElement.addEventListener("ended",(()=>{const e=this.props.onVideoEnd||this.defaultOnVideoEnd;this.pause();e()}))};this.handlePlayerError=()=>to(this,void 0,void 0,(function*(){const e=this.videoPlayer.error()||{};const t=e.code;let r=true;if(Object.values(O["t"]).includes(e.code)){r=yield this.props.onPlayerError(e.code)}else if(e.code&&e.code in O["s"]){if(t===4){const e=O["s"][4];r=yield this.props.onPlayerError(e)}if(t===5){const e=O["s"][5];r=yield this.props.onPlayerError(e)}}if(typeof r==="undefined"||r){this.store.handleVideoError(e)}}));this.defaultOnVideoEnd=()=>{this.props.exitFullscreen()};this.videoPlayerReady=()=>{this.captionsStore.attachPlayer(this.videoPlayer);if(this.userActivityStore){this.userActivityStore.setupPlayerListeners(this.videoPlayer)}this.registerHotkeys();if(this.props.thumbnailSprite){this.progressBarStore.setThumbnailsVTTUrl(this.props.thumbnailSprite.vtt_url)}};this.onVideoUnavailable=()=>{this.unregisterHotkeys();this.props.onVideoUnavailable()};this.withHotkeyCallback=(e,r)=>function(o){o===null||o===void 0?void 0:o.preventDefault();for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++){n[i-1]=arguments[i]}r&&t.props.onHotkey(r,o,...n);e(o,...n)};this.contextMenu=e=>{e.preventDefault()};this.volumeDown=()=>{this.store.volumeStore.volumeDown()};this.volumeUp=()=>{this.store.volumeStore.volumeUp()};this.jumpTo=e=>{this.videoPlayer.currentTime(this.store.duration_*e*.1)};this.syncPlayStateToPlayer=()=>{clearTimeout(this.playStateSyncTimeout);try{if(!this.playingStateNeedsSyncing){return}if(this.isVideoPlayerInitialized&&this.store.isSourceReady){this.isPlaying?this.play():this.pause()}this.playStateSyncTimeout=setTimeout(this.syncPlayStateToPlayer,O["q"])}catch(e){}};this.play=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;t.props.onPlayPause(true,e);t.videoElement.play();t.hasPlayed=true};this.pause=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;t.props.onPlayPause(false,e);t.videoElement.pause()};this.playEvent=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;t.props.onPlayPause(true,e)};this.pauseEvent=function(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;t.props.onPlayPause(false,e)};this.togglePlayPause=()=>{if(this.isPlaying){this.pause()}else{this.play()}};this.isDefaultPlaying=this.props.isDefaultPlaying;this.hasPlayed=this.isPlaying;const r=!!this.props.mediaLicenseToken;this.shakaSetupData=V(this.props.muxMetadata,this.props.mediaSources,r);this.shakaSetupData.language=oo.locale.toLowerCase().replace("_","-");this.store=new Kr(this.shakaSetupData,this.props.playerId,this.props.duration,this.props.trackingTag,this.props.assetId,this.props.onVideoProgress,this.props.videoProgressInterval,this.props.onTimeUpdate,this.props.isDefaultMuted,this.props.prioritizeDefaultMuted);this.controlBarStore=new be;this.captionsStore=this.props.captionsStore||new H["a"](this.props.captions,true,{[oo.locale.split("_")[0]]:1},this.props.isDefaultCaptionOn);this.captionsStore.attachPlayerStore(this.store);this.captionDisplayStore=new ye(this.controlBarStore,this.captionsStore,this.store);if(this.props.userActivityEnabled){this.userActivityStore=this.props.userActivityStore||new Qr;if(this.props.isMockVjsStyleNeeded){this.userActivityStore=new Qr}this.userActivityStore.setControlBarStore(this.controlBarStore)}this.progressBarStore=this.props.progressBarStore||new lr["a"];this.progressBarStore.setThumbnailSprite(this.props.thumbnailSprite);this.hotkeys=[{key:"space",fn:this.withHotkeyCallback(this.togglePlayPause,O["o"].PLAY_PAUSE)},{key:"enter",fn:this.withHotkeyCallback(this.togglePlayPause,O["o"].PLAY_PAUSE)},{key:"left",fn:this.withHotkeyCallback(this.store.seekBack,O["o"].SEEK_BACK)},{key:"right",fn:this.withHotkeyCallback(this.store.seekForward,O["o"].SEEK_FORWARD)},{key:"shift+left",fn:this.withHotkeyCallback(this.store.playbackRateStore.speedDown,O["o"].SPEED_DOWN)},{key:"shift+right",fn:this.withHotkeyCallback(this.store.playbackRateStore.speedUp,O["o"].SPEED_UP)},{key:"down",fn:this.withHotkeyCallback(this.volumeDown,O["o"].VOLUME_DOWN)},{key:"up",fn:this.withHotkeyCallback(this.volumeUp,O["o"].VOLUME_UP)},{key:"m",fn:this.withHotkeyCallback(this.store.volumeStore.toggleMuted,O["o"].TOGGLE_MUTE)}];if(this.props.fullscreenEnabled){this.hotkeys.push({key:"f",fn:this.withHotkeyCallback(this.props.toggleFullscreen,O["o"].TOGGLE_FULLSCREEN)})}Array(10).fill(0,1,10).forEach(((e,t)=>{this.hotkeys.push({key:t.toString(),fn:this.jumpTo.bind(this,t)})}))}componentDidMount(){return to(this,void 0,void 0,(function*(){this.store.setMediaSources(this.props.mediaSources,this.props.mediaLicenseToken);const e=yield this.store.createVideoPlayer(this.videoElement);this.initVideoPlayer(e);this.store.loadPlayItem()}))}componentDidUpdate(e){if(e.isPlaying!==this.props.isPlaying){this.syncPlayStateToPlayer()}if(e.mediaLicenseToken!==this.props.mediaLicenseToken||JSON.stringify(e.mediaSources)!==JSON.stringify(this.props.mediaSources)){this.store.setMediaSources(this.props.mediaSources,this.props.mediaLicenseToken)}}componentWillUnmount(){if(this.videoPlayer){}this.unregisterHotkeys();clearTimeout(this.playStateSyncTimeout)}get isPlaying(){return this.props.isPlaying!==undefined?this.props.isPlaying:this.isDefaultPlaying}initVideoPlayer(e){this.videoPlayer=e;if(this.videoPlayer!==undefined){this.captionDisplayStore.attachPlayer(this.videoPlayer);this.setupPlayerEvents();this.progressBarStore.attachPlayer(this.videoPlayer,this.videoElement);this.progressBarStore.attachPlayerStore(this.store);this.isVideoPlayerInitialized=true}}patchPlayer(){this.videoPlayerPlay=this.play;this.videoPlayerPause=this.pause;this.videoPlayer.play=this.play;this.videoPlayer.pause=this.pause;this.syncPlayStateReactionDisposer=Object(c["v"])((()=>this.store.isPlaying),this.syncPlayStateToPlayer,{fireImmediately:true})}postInitSetUp(){var e,t,r;this.store._setAdaptiveQualityLevels();this.videoPlayerReady();j["b"].increment("udemy-video-player.viewed",{userModulo:w["a"].id%100,brand:(e=ro===null||ro===void 0?void 0:ro.brand)===null||e===void 0?void 0:e.identifier,browser:pe.browser.name,browserVersion:pe.browser.version,platform:pe.os.name,platformVersion:pe.os.version,tech:this.videoPlayer.techName_,resolution:this.store.activeResolution.label,trackingTag:this.props.trackingTag,cdn:_(this.videoPlayer.getAssetUri()),userCountry:w["a"].country,srcType:(r=(t=this.videoPlayer.getManifest())===null||t===void 0?void 0:t.imageStreams[0])===null||r===void 0?void 0:r.mimeType});const o=`${this.props.playerId}shaka-mock-vjs-control-bar-popover-area`;const s=document.getElementById(o);s===null||s===void 0?void 0:s.addEventListener("click",this.togglePlayPause);this.videoElement.addEventListener("play",(()=>this.onPlayEvent(true)));this.videoElement.addEventListener("pause",(()=>this.onPlayEvent(false)));this.props.onPlayerReady(this.store);this.videoPlayer.getMediaElement().addEventListener("timeupdate",this.store.handleTimeUpdate);if(this.props.onVideoProgress){this.videoPlayer.getMediaElement().addEventListener("timeupdate",this.store.handleVideoProgress)}if(this.props.isDefaultPlaying||this.props.isPlaying){this.play()}this.postInitSetupComplete=true}registerHotkeys(){if(!this.props.hotkeysEnabled){return}S["a"].registerMap(this.hotkeys)}unregisterHotkeys(){if(!this.props.hotkeysEnabled){return}S["a"].unregisterMap(this.hotkeys)}get playingStateNeedsSyncing(){return this.isPlaying!==this.store.isPlaying&&!this.isInNativePlayEventGracePeriod}onPlayEvent(e){this.hasPlayed=this.hasPlayed||e;if(!this.playingStateNeedsSyncing){if(this.props.nativeControlGracePeriod){this.isInNativePlayEventGracePeriod=true;setTimeout((()=>{this.isInNativePlayEventGracePeriod=false;this.syncPlayStateToPlayer()}),this.props.nativeControlGracePeriod)}e?this.playEvent(true):this.pauseEvent(true)}this.onPlayStateChange(e)}onPlayStateChange(e){this.props.onPlayPauseToggled(e,this.store.currentTime_)}get center(){const e=this.store.isSourceReady&&!this.hasPlayed;return m.a.createElement("div",{className:Zr.a.center},!e&&this.store.isSeeking&&m.a.createElement(i["a"],{size:"xxlarge",color:"inherit"}),e&&m.a.createElement(n["a"],{udStyle:"link",className:Zr.a["play-button"],onClick:Object(c["e"])((()=>this.togglePlayPause())),"data-purpose":"video-play-button-initial"},m.a.createElement(s.a,{label:gettext("Play video"),size:"xxlarge",className:Zr.a["play-button-icon"]})),!e&&this.store.isSourceReady&&m.a.createElement(ar,{isPlaying:this.isPlaying}))}get preloadLinks(){const e=[];if(this.props.thumbnailSprite){e.push(m.a.createElement("link",{rel:"preload",key:"sneakpeek",href:this.props.thumbnailSprite.img_url,as:"image"}))}return e}get errorDisplay(){if(!this.store.isErrorVisible){return null}return m.a.createElement(tr["a"],{player:this.videoPlayer,errorBody:this.store.errorBody||this.props.errorBody,errorFooter:this.store.errorFooter||this.props.errorFooter,store:this.store})}renderVideoElement(){if(typeof this.props.renderVideoElement==="function"){return this.props.renderVideoElement(this.video)}return this.video}get video(){return m.a.createElement("div",{id:`${this.props.playerId}shaka-mock-vjs-control-bar`,className:this.props.isMockVjsStyleNeeded?Zr.a["mock-vjs-tech"]:Zr.a["mock-vjs-tech-relative"]},m.a.createElement("video",Object.assign({ref:e=>{this.videoElement=e},className:Zr.a["video-player"],style:{paddingBottom:"0"},id:this.props.playerId,preload:this.props.preload,controls:false,onContextMenu:this.contextMenu,controlsList:this.props.isDownloadEnabled?"":"nodownload"},this.props.extraVideoAttributes)))}render(){const e=l()(Zr.a["video-wrapper"],{[Yr.a["user-inactive"]]:this.userActivityStore&&!this.userActivityStore.isUserActive});return m.a.createElement(d["c"],{captionsStore:this.captionsStore,captionDisplayStore:this.captionDisplayStore,controlBarStore:this.controlBarStore,userActivityStore:this.userActivityStore,videoPlayerStore:this.store,progressBarStore:this.progressBarStore},m.a.createElement(v.a,{onMeasure:this.store.setPlayerHeight},m.a.createElement("div",{className:l()(Zr.a.container,"udlite-in-udheavy"),ref:this.props.setFullscreenRef},m.a.createElement("div",{className:e,id:`shaka-video-container-${this.props.assetId}`},this.preloadLinks,!this.store.isUsingNativeControls&&this.center,this.renderVideoElement(),this.videoPlayer&&!this.store.isUsingNativeControls&&!this.store.isErrorVisible&&m.a.createElement(er,{container:document.getElementById(`${this.props.playerId}shaka-mock-vjs-control-bar`),player:this.videoPlayer,isPlaying:this.isPlaying,onPlayPause:Object(c["e"])((()=>this.togglePlayPause())),progressBarStore:this.progressBarStore},this.props.children),this.errorDisplay),this.videoPlayer&&!this.store.isUsingNativeControls&&m.a.createElement(oe,{containerForCue:document.getElementById(`${this.props.playerId}shaka-mock-vjs-control-bar`),captionDisplayStore:this.captionDisplayStore,userActivityStore:this.userActivityStore}))))}};so.propTypes={renderVideoElement:p.a.func,playerId:p.a.string.isRequired,captions:p.a.array,captionsStore:p.a.instanceOf(H["a"]),mediaLicenseToken:p.a.string,mediaSources:d["b"].arrayOrObservableArray.isRequired,thumbnailSprite:p.a.shape({vtt_url:p.a.string.isRequired,img_url:p.a.string.isRequired}),progressBarStore:p.a.object,toggleFullscreen:p.a.func.isRequired,isFullscreen:p.a.bool.isRequired,exitFullscreen:p.a.func.isRequired,setFullscreenRef:p.a.func.isRequired,assetId:p.a.number.isRequired,trackingTag:p.a.string,isPlaying:p.a.bool,isDefaultPlaying:p.a.bool,onPlayPause:p.a.func.isRequired,nativeControlGracePeriod:p.a.number,onPlayPauseToggled:p.a.func,onVideoEnd:p.a.func,onVideoProgress:p.a.func,videoProgressInterval:p.a.number,onTimeUpdate:p.a.func,onVideoUnavailable:p.a.func,onPlayerError:p.a.func,hotkeysEnabled:p.a.bool,onHotkey:p.a.func,duration:p.a.number,preload:p.a.oneOf(["auto","metadata","none"]),onPlayerReady:p.a.func,extraVideoAttributes:p.a.object,userActivityEnabled:p.a.bool,userActivityStore:p.a.object,errorBody:tr["a"].propTypes.errorBody,errorFooter:tr["a"].propTypes.errorFooter,fullscreenEnabled:p.a.bool,controlsTrackingEnabled:p.a.bool,muxMetadata:p.a.object,isDownloadEnabled:p.a.bool,isDefaultMuted:p.a.bool,prioritizeDefaultMuted:p.a.bool,isDefaultCaptionOn:p.a.bool,isMockVjsStyleNeeded:p.a.bool};so.defaultProps={renderVideoElement:undefined,captionsStore:null,mediaLicenseToken:undefined,onVideoEnd:undefined,duration:undefined,extraVideoAttributes:undefined,onVideoUnavailable:E["a"],onVideoProgress:undefined,videoProgressInterval:0,onTimeUpdate:E["a"],onPlayerError:E["a"],onPlayerReady:E["a"],hotkeysEnabled:false,onHotkey:E["a"],preload:"metadata",trackingTag:"",isPlaying:undefined,isDefaultPlaying:false,nativeControlGracePeriod:O["p"],onPlayPauseToggled:E["a"],captions:[],thumbnailSprite:undefined,userActivityEnabled:true,userActivityStore:null,errorBody:tr["a"].defaultProps.errorBody,errorFooter:tr["a"].defaultProps.errorFooter,fullscreenEnabled:true,controlsTrackingEnabled:false,muxMetadata:undefined,isDownloadEnabled:false,isDefaultMuted:false,prioritizeDefaultMuted:false,isDefaultCaptionOn:false,progressBarStore:null,isMockVjsStyleNeeded:false};eo([c["t"].ref],so.prototype,"videoPlayer",void 0);eo([c["t"]],so.prototype,"hasPlayed",void 0);eo([c["e"]],so.prototype,"initVideoPlayer",null);eo([c["e"]],so.prototype,"onPlayEvent",null);eo([c["e"]],so.prototype,"play",void 0);eo([c["e"]],so.prototype,"pause",void 0);eo([c["e"]],so.prototype,"playEvent",void 0);eo([c["e"]],so.prototype,"pauseEvent",void 0);so=eo([Object(y["a"])("isPlaying","onPlayPause"),g["a"],d["f"]],so)},"./src/udemy/js/shaka-video-player/sneak-peek/sneak-peek.less":function(e,t,r){e.exports={"sneak-peek-holder":"sneak-peek--sneak-peek-holder--1dLVU","sneak-peek":"sneak-peek--sneak-peek--1MLrH"}},"./src/udemy/js/shaka-video-player/user-activity.less":function(e,t,r){e.exports={"user-inactive":"user-activity--user-inactive--2i_QO","hide-when-user-inactive":"user-activity--hide-when-user-inactive--MIrbg"}},"./src/udemy/js/shaka-video-player/video-player.less":function(e,t,r){e.exports={container:"video-player--container--3jY3v",center:"video-player--center--3nOyv","play-button":"video-player--play-button--rPgX2","play-button-icon":"video-player--play-button-icon--3pmEM","video-wrapper":"video-player--video-wrapper--2mFBT","video-player":"video-player--video-player--2DBqU","mock-vjs-tech":"video-player--mock-vjs-tech--1omfe","mock-vjs-tech-relative":"video-player--mock-vjs-tech-relative--3ONbR"}},"./src/udemy/js/shaka-video-player/volume/volume-control.less":function(e,t,r){e.exports={"slider-focus-wrapper":"volume-control--slider-focus-wrapper--1UPim",slider:"volume-control--slider--2uSlT","slider-inner":"volume-control--slider-inner--3MBZ0",dragging:"volume-control--dragging--39W90","invisible-unless-focused":"volume-control--invisible-unless-focused--1hBIf"}},"./src/udemy/js/utils/autopilot.js":function(e,t,r){"use strict";var o=r("./node_modules/@udemy/shared-utils/dist/esm/react/autopilot.js");t["a"]=o["a"]},"./src/udemy/js/utils/composed-path.js":function(e,t,r){"use strict";function o(e,t,r){if(!e.composedPath){e.composedPath=function(){if(this.path){return this.path}let e=this.target;this.path=[];while(e.parentNode!==null){this.path.push(e);e=e.parentNode}this.path.push(t,r);return this.path}}}if(typeof Event!=="undefined"&&typeof window!=="undefined"){o(Event.prototype,document,window)}},"./src/udemy/js/utils/escape/unescape-html.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));const o=/&(?:amp|lt|gt|quot|#39);/g;const s=RegExp(o.source);const n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};function i(e){return n[e]}function a(e){return e&&s.test(e)?e.replace(o,i):e}},"./src/udemy/js/utils/fullscreen.tsx":function(e,t,r){"use strict";r.d(t,"b",(function(){return p}));r.d(t,"a",(function(){return h}));var o=r("./node_modules/autobind-decorator/lib/esm/index.js");var s=r("./node_modules/mobx/lib/mobx.module.js");var n=r("./node_modules/mobx-react/dist/mobx-react.module.js");var i=r("./node_modules/react/index.js");var a=r.n(i);var l=undefined&&undefined.__decorate||function(e,t,r,o){var s=arguments.length,n=s<3?t:o===null?o=Object.getOwnPropertyDescriptor(t,r):o,i;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)if(i=e[a])n=(s<3?i(n):s>3?i(t,r,n):i(t,r))||n;return s>3&&n&&Object.defineProperty(t,r,n),n};var c=undefined&&undefined.__rest||function(e,t){var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0)r[o]=e[o];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++){if(t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s]))r[o[s]]=e[o[s]]}return r};const d={fullscreen:["fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement"],fullscreenchange:["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","MSFullscreenChange"],requestFullscreen:["requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen"],exitFullscreen:["exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen"]};class u{getPropertyName(e,t){for(let r=0;r<d[t].length;r++){const o=d[t][r];if(e[o]){return o}}}getProperty(e,t){const r=this.getPropertyName(e,t);return r?e[r]:null}get changeEvents(){return d.fullscreenchange}isSupported(){return!!this.getProperty(document.documentElement,"requestFullscreen")}isFullscreen(){return!!this.getProperty(document,"fullscreen")}requestFullscreen(e){if(!this.isSupported()){return false}return this.getProperty(e,"requestFullscreen").call(e)}exitFullscreen(){if(!this.isSupported()){return false}return this.getProperty(document,"exitFullscreen").call(document)}toggleFullscreen(e){if(this.isFullscreen()){this.exitFullscreen()}else{this.requestFullscreen(e)}}}const p=new u;function h(e){var t,r,o;var s;const i=(t=e.propTypes)!==null&&t!==void 0?t:{},{toggleFullscreen:l,isFullscreen:d,exitFullscreen:u,setFullscreenRef:p}=i,h=c(i,["toggleFullscreen","isFullscreen","exitFullscreen","setFullscreenRef"]);return Object(n["f"])((s=class t extends a.a.Component{constructor(){super(...arguments);this.fullscreenStore=new m}render(){return a.a.createElement(n["c"],{fullscreenStore:this.fullscreenStore},a.a.createElement(e,Object.assign({toggleFullscreen:this.fullscreenStore.toggleFullscreen,isFullscreen:this.fullscreenStore.isFullscreen,exitFullscreen:this.fullscreenStore.exitFullscreen,setFullscreenRef:this.fullscreenStore.setRef},this.props)))}},s.displayName=`Fullscreen-Enabled-${(r=e.displayName)!==null&&r!==void 0?r:e.name}`,s.propTypes=h,s.defaultProps=(o=e.defaultProps)!==null&&o!==void 0?o:{},s.wrappedComponent=e,s))}class m{constructor(){this.isFullscreen=false}_addFullscreenEvents(){p.changeEvents.forEach((e=>{document.addEventListener(e,this.handleFullscreenEvent)}))}_removeFullscreenEvents(){p.changeEvents.forEach((e=>{document.removeEventListener(e,this.handleFullscreenEvent)}))}_exitFullscreen(){this._addFullscreenEvents();if(p.exitFullscreen()===false){this._removeFullscreenEvents()}}toggleFullscreen(){if(this.isFullscreen){this._exitFullscreen()}else if(!this.isFullscreen&&this.ref){this._addFullscreenEvents();if(p.requestFullscreen(this.ref)===false){this._removeFullscreenEvents()}}if(this.focusElement){this.focusElement.focus()}}exitFullscreen(){if(this.isFullscreen){this._exitFullscreen()}}handleFullscreenEvent(){this.isFullscreen=p.isFullscreen();if(!this.isFullscreen){this._removeFullscreenEvents()}}setRef(e){this.ref=e}setFocusElement(e){this.focusElement=e}}l([s["t"]],m.prototype,"isFullscreen",void 0);l([o["a"]],m.prototype,"toggleFullscreen",null);l([o["a"]],m.prototype,"exitFullscreen",null);l([o["a"],s["e"]],m.prototype,"handleFullscreenEvent",null);l([o["a"]],m.prototype,"setRef",null);l([o["a"]],m.prototype,"setFocusElement",null)},"./src/udemy/js/utils/hotkeys.js":function(e,t,r){"use strict";var o=r("./node_modules/autobind-decorator/lib/esm/index.js");var s,n;const i=e=>["input","textarea","button","a","select","option"].includes(e.tagName.toLowerCase())||e.getAttribute("role")==="button"||e.getAttribute("role")==="slider"||e.getAttribute("role")==="menuitemradio"||e.getAttribute("role")==="menuitem"||e.getAttribute("contenteditable")==="true";let a=(s=(n=class e{constructor(e){this.container=e;this.registry={}}makeReference(e,t){return[...e,t].join("+").toUpperCase()}keyStringToReference(t){const r=t.split("+");let o=r.pop();const s=r.map((t=>{if(e.MODIFIERS[t]){return e.MODIFIERS[t]}if(e.BROWSER_MODIFIERS[t]){throw new Error(`${t} cannot be as a modifier, it is reserved for the browser.`)}throw new Error(`Unknown modifier key, '${t}'.`)})).sort();if(e.MODIFIABLE_KEYS[o]){o=e.MODIFIABLE_KEYS[o]}else if(s.length){throw new Error(`${o} is not a modifiable key.`)}return this.makeReference(s,o)}register(e,t){const r=this.keyStringToReference(e);if(!Object.keys(this.registry).length){this.container.addEventListener("keydown",this.handleKeyDown)}if(!this.registry[r]){this.registry[r]=[]}this.registry[r].push(t)}unregister(e,t){const r=this.keyStringToReference(e);if(!this.registry[r]){return}const o=this.registry[r].indexOf(t);if(o<0){return}this.registry[r].splice(o,1);if(!this.registry[r].length){delete this.registry[r]}if(!Object.keys(this.registry).length){this.container.removeEventListener("keydown",this.handleKeyDown)}}registerMap(e){e.forEach((e=>{if(e.fn){this.register(e.key,e.fn)}}))}unregisterMap(e){e.forEach((e=>{if(e.fn){this.unregister(e.key,e.fn)}}))}getModifiers(t,r){const o=Object.values(e.MODIFIABLE_KEYS).includes(t);const s=Object.assign({},e.BROWSER_MODIFIERS,o?e.MODIFIERS:{});return Object.values(s).reduce(((e,t)=>{if(r[t]){e.push(t)}return e}),[]).sort()}handleKeyDown(e){const t=e.target||e.toElement||document.activeElement;const r=!!t&&i(t);const o=e.key;const s=this.getModifiers(o,e);const n=this.makeReference(s,o);const a=this.registry[n]||[];a.forEach((t=>{const o=t.shouldCall?t.shouldCall(e):!r;o&&t(e)}))}},n.MODIFIABLE_KEYS={space:" ",left:"ArrowLeft",right:"ArrowRight",down:"ArrowDown",up:"ArrowUp",enter:"Enter",escape:"Escape"},n.MODIFIERS={alt:"altKey",shift:"shiftKey"},n.BROWSER_MODIFIERS={ctrl:"ctrlKey",meta:"metaKey"},n),babelHelpers.applyDecoratedDescriptor(s.prototype,"handleKeyDown",[o["a"]],Object.getOwnPropertyDescriptor(s.prototype,"handleKeyDown"),s.prototype),s);t["a"]=new a(document)},"./src/udemy/js/utils/memoize.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));function o(e,t,r){if(r){r.value=o(r.value);return r}const s=function(){const t=s.__cache;for(var r=arguments.length,o=new Array(r),n=0;n<r;n++){o[n]=arguments[n]}const i=JSON.stringify(o);if(!t.has(i)){t.set(i,e.apply(this,o))}return t.get(i)};s.__cache=new Map;return s}},"./src/udemy/js/utils/user-agent/get-is-safari-or-ios.ts":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var o=r("./src/udemy/js/utils/user-agent/get-os-name.js");function s(e){var t;const r=(t=e.getBrowser().name)!==null&&t!==void 0?t:"";const s=r.toLowerCase().includes("safari");const n=Object(o["a"])()==="ios";return s||n}},"./src/udemy/js/utils/user-agent/get-os-name.js":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var o=r("./src/udemy/js/utils/server-or-client.ts");function s(){const e=o["a"].global.navigator.userAgent,t=o["a"].global.navigator.platform,r=["Macintosh","MacIntel","MacPPC","Mac68K"],s=["Win32","Win64","Windows","WinCE"],n=["iPhone","iPad","iPod","iPhone Simulator","iPad Simulator","iPod Simulator"];let i="other";if(r.indexOf(t)!==-1){i="mac os"}else if(n.indexOf(t)!==-1){i="ios"}else if(s.indexOf(t)!==-1){i="windows"}else if(/Android/.test(e)){i="android"}else if(/Linux/.test(t)){i="linux"}return i}},57:function(e,t){}}]);
//# sourceMappingURL=course-preview-udlite-app.4aa7d8130cd2e5736c9f.js.map